{"openapi":"3.1.0","info":{"version":"2025-03-25","title":"Sensay API (Internal)","description":"Complete API schema including hidden endpoints."},"servers":[{"url":"https://api.sensay.io","description":"Production environment"}],"components":{"securitySchemes":{"OrganizationServiceToken":{"type":"apiKey","in":"header","name":"X-ORGANIZATION-SECRET","description":"Organization Service Token"},"UserID":{"type":"apiKey","in":"header","name":"X-USER-ID","description":"User ID"},"UserIDType":{"type":"apiKey","in":"header","name":"X-USER-ID-TYPE","description":"User ID Type"}},"headers":{"X-API-Version":{"description":"API version","schema":{"type":"string","default":"2025-03-25"}}},"schemas":{"replicaUUID_parameter":{"type":"string","format":"uuid","description":"The replica unique identifier (UUID)","example":"03db5651-cb61-4bdf-9ef0-89561f7c9c53"},"trainingID_parameter":{"type":["number","null"],"description":"The unique identifier of the knowledge base entry","example":12345},"WebhookRequest":{"type":"object","properties":{"type":{"type":"string"},"table":{"type":"string"},"schema":{"type":"string"},"record":{"type":"object","properties":{"id":{"type":"string"},"bucket_id":{"type":"string"},"path_tokens":{"type":"array","items":{"type":"string"}},"metadata":{"type":"object","properties":{"size":{"type":"number"},"mimetype":{"type":"string"}},"required":["size","mimetype"]}},"required":["id","bucket_id","path_tokens","metadata"]},"old_record":{}},"required":["type","table","schema","record"],"example":{"type":"INSERT","table":"objects","record":{"id":"8f4611db-c346-4959-b173-681156612bfd","name":"2ba8848c-1639-563a-a559-959fa25c70bd/2","owner":null,"version":"5dac074f-fc41-420d-ab03-5ab04ef42961","metadata":{"eTag":"\"f1cd0725ddb77f5a67a508cc48c8e554\"","size":16085011,"mimetype":"application/pdf","cacheControl":"no-cache","lastModified":"2025-02-27T15:58:44.284Z","contentLength":16085011,"httpStatusCode":200},"owner_id":null,"bucket_id":"replica_files","created_at":"2025-02-27T15:58:44.501551+00:00","updated_at":"2025-02-27T15:58:44.501551+00:00","path_tokens":["2ba8848c-1639-563a-a559-959fa25c70bd","2"],"user_metadata":{},"last_accessed_at":"2025-02-27T15:58:44.501551+00:00"},"schema":"storage","old_record":null}},"knowledgeBaseID_parameter":{"type":"number","description":"The unique identifier of the knowledge base entry","example":"12345"}},"parameters":{}},"paths":{"/v1/replicas":{"get":{"tags":["Replicas"],"security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"summary":"List replicas","description":"List replicas with pagination with optional filtering. Only Replicas that are public or belong to the authenticated user are returned.","parameters":[{"schema":{"type":"string","description":"Filters by the owner UUID of the Replicas"},"required":false,"description":"Filters by the owner UUID of the Replicas","name":"owner_uuid","in":"query"},{"schema":{"type":"string","description":"The replica owner ID."},"required":false,"description":"The replica owner ID.","name":"ownerID","in":"query"},{"schema":{"type":"integer","exclusiveMinimum":0,"description":"Pagination: The page number to return"},"required":false,"description":"Pagination: The page number to return","name":"page","in":"query"},{"schema":{"type":"integer","exclusiveMinimum":0,"default":1,"description":"Pagination: The page index to return","deprecated":true},"required":false,"description":"Pagination: The page index to return","name":"page_index","in":"query"},{"schema":{"type":"integer","exclusiveMinimum":0,"default":24,"description":"Pagination: The number of items per page"},"required":false,"description":"Pagination: The number of items per page","name":"page_size","in":"query"},{"schema":{"type":"string","description":"Filters by the replica's slug"},"required":false,"description":"Filters by the replica's slug","name":"slug","in":"query"},{"schema":{"type":"string","description":"Search: by name of Replica, sorted in ascending order"},"required":false,"description":"Search: by name of Replica, sorted in ascending order","name":"search","in":"query"},{"schema":{"type":"array","items":{"type":"string","enum":["AI","Academic","Arts","Blockchain","Business","Celebrity","Charity","Developer","Educator","Europe","Fashion","Finance","Food","Health & Fitness","History","Italian","Kids","Language","Law","Leadership","Lifestyle","Literature","Love","Military","Modelling","Motivation","Movies","Music","North America","Philosophy","Politics","Religion","Science","Self-Help","Sensay","Sports","Technology","Web","Wisdom","blockchain","engage2earn","female","investment","male","meme","miniapp","telegram","web3"]},"description":"Filters by tags associated to Replicas"},"required":false,"description":"Filters by tags associated to Replicas","name":"tags","in":"query"},{"schema":{"type":"string","enum":["name","popularity"],"default":"name","description":"Sorts by name or popularity of Replicas in ascending order"},"required":false,"description":"Sorts by name or popularity of Replicas in ascending order","name":"sort","in":"query"},{"schema":{"type":"string","enum":["telegram","discord"],"description":"Filters by integration"},"required":false,"description":"Filters by integration","name":"integration","in":"query"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"List of Replicas","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"type":{"type":"string"},"items":{"type":"array","items":{"type":"object","properties":{"name":{"type":"string","maxLength":50,"description":"The name of the replica.","example":"John Smith"},"purpose":{"type":"string","maxLength":200,"description":"The purpose of the replica. This field is not used for training the replica.","example":"Acts as my AI twin for answering questions about my creative work."},"shortDescription":{"type":"string","maxLength":50,"description":"A short description of your replica. This field is not used for training the replica.","example":"John Smith is a 55 year old accountant from Brooklyn who loves sports and his family."},"greeting":{"type":"string","maxLength":600,"description":"The first thing your replica will say when you start a conversation with them.","example":"What would you like to know?"},"type":{"type":"string","enum":["individual","character","brand"],"default":"character","description":"The replica type.\n`individual`: A replica of yourself.\n`character`: A replica of a character: can be anything you want.\n`brand`: A replica of a business persona or organization.\n"},"ownerID":{"type":"string","description":"The replica owner ID.","example":"a-user-id"},"private":{"type":"boolean","default":false,"description":"Visibility of the replica. When set to `true`, only the owner and users on the allowlist will be able to find the replica and chat with it."},"whitelistEmails":{"type":"array","items":{"type":"string","format":"email"},"default":[],"description":"Emails of users who can use the replica when the replica is private.","example":["user@domain.example"]},"slug":{"type":"string","maxLength":50,"description":"The slug of the replica. Slugs can be used by API consumers to determine the URLs where replicas can be found.","example":"example-replica"},"tags":{"type":"array","items":{"type":"string"},"default":[],"description":"The tags associated with the replica. Tags help categorize replicas and make them easier to find.","example":["male","italian"]},"profileImage":{"type":"string","format":"uri","pattern":"https?:\\/\\/[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]+\\b([-a-zA-Z0-9()@:%_+.~#?&\\/=]*)","default":"https://sensay.io/assets/default-replica-profile.webp","description":"The URL of the profile image of the replica. The image will be downloaded, optimized and stored on our servers, so the URL in the response will be different. Supported formats: .jpg, .jpeg, .png, .bmp, .webp, .avif","example":"https://images.invalid/photo.jpeg"},"suggestedQuestions":{"type":"array","items":{"type":"string"},"default":[],"description":"Suggested questions when starting a conversation.","example":["What is the meaning of life?"]},"llm":{"type":"object","properties":{"model":{"type":"string","enum":["gpt-4o","claude-3-5-haiku-latest","claude-3-7-sonnet-latest","claude-4-sonnet-20250514","grok-2-latest","grok-3-beta","deepseek-chat","o3-mini","gpt-4o-mini","huggingface-eva","huggingface-dolphin-llama"],"default":"claude-3-5-haiku-latest","description":"The LLM model of the replica.","example":"gpt-4o"},"memoryMode":{"type":"string","enum":["prompt-caching","rag-search"],"default":"rag-search","description":"Deprecated. The system will automatically choose the best approach.","deprecated":true},"systemMessage":{"type":"string","maxLength":30000,"description":"Who is your replica? How do you want it to talk, respond and act.","example":"Concise, knowledgeable, empathetic and cheerful."},"tools":{"type":"array","items":{"type":"string","enum":["getTokenInfo","getUdaoTokenInfo","getSensayTokenInfo","getTokenInfoMEAI","answerToLife","toolhouse","brightUnionGetQuoteTool","brightUnionGetCoverablesTool"]},"default":[],"description":"The replica's tools. Tools enable agents to interact with the world. `getTokenInfo`: Allows replica to get token information\n","example":["getTokenInfo"]}}},"voicePreviewText":{"type":"string","maxLength":400,"description":"Text that can be used to generate a voice preview.","example":"Hi, I'm your Sensay replica! How can I assist you today?"},"uuid":{"type":"string","format":"uuid","description":"The replica UUID","example":"4830597b-f3be-42b4-9587-fa15299ccd63"},"profile_image":{"type":["string","null"],"description":"The URL of the profile image of the replica. Please use `profileImage` instead.","deprecated":true},"short_description":{"type":["string","null"],"description":"The description of the replica. Please use `shortDescription` instead.","deprecated":true},"introduction":{"type":["string","null"],"description":"The introduction of the replica. Please use `greeting` instead.","deprecated":true},"created_at":{"type":["string","null"],"format":"date-time","description":"The date and time the replica was created."},"owner_uuid":{"type":["string","null"],"format":"uuid","description":"The UUID of the owner of the replica. Please migrate to the new User ID system and use `ownerID` instead.","deprecated":true},"voice_enabled":{"type":"boolean","description":"Whether the replica has voice support.","x-beta":true},"video_enabled":{"type":"boolean","description":"Whether the replica has video support.","x-beta":true},"chat_history_count":{"type":["integer","null"],"description":"The total number of chat history items related to this replica, for all users of the organization."},"system_message":{"type":"string","description":"The replica's tone, personality and behaviour, Please use `llm.systemMessage` instead.","deprecated":true},"discord_integration":{"type":["object","null"],"properties":{"token":{"type":["string","null"]},"service_name":{"type":["string","null"]},"is_active":{"type":["boolean","null"]}},"required":["token","service_name","is_active"],"description":"The Discord integration of the replica.","x-beta":true},"telegram_integration":{"type":["object","null"],"properties":{"token":{"type":["string","null"]},"service_name":{"type":["string","null"]}},"required":["token","service_name"],"description":"The Telegram integration of the replica.","x-beta":true},"elevenLabsID":{"type":["string","null"],"description":"The ElevenLabs voice ID associated with this replica.","x-beta":true}},"required":["name","shortDescription","greeting","ownerID","slug","llm","uuid","profile_image","short_description","introduction","created_at","owner_uuid","voice_enabled","video_enabled","chat_history_count","system_message","discord_integration","telegram_integration"],"additionalProperties":false},"description":"Array of replica items for the current page. Will be an empty array if no items exist.","example":[{"uuid":"123e4567-e89b-12d3-a456-426614174000","name":"Example Replica","purpose":"Replica purpose","slug":"copy","profile_image":"https://deprecated.invalid/image.png","profileImage":"https://domain.example/image.webp","short_description":"An example replica","shortDescription":"An example replica","introduction":"deprecated","greeting":"What would you like to know?","tags":["male","italian"],"created_at":"2023-10-01T12:00:00Z","owner_uuid":"123e4567-e89b-12d3-a456-426614174001","ownerID":"a-user-id","type":"character","private":false,"whitelistEmails":["example@domain.example"],"suggestedQuestions":["What is the meaning of life?"],"llm":{"model":"gpt-4o","systemMessage":"Concise, knowledgeable, empathetic and cheerful.","tools":["answerToLife"]},"voice_enabled":true,"video_enabled":true,"chat_history_count":5,"system_message":"Descriptive, energetic, friendly","elevenLabsID":"ABC123XYZ456","telegram_integration":{"token":"7701101112:DASeKD32EQLL32113-ngfVUMkyzg","service_name":"test_telegram_bot"},"discord_integration":{"token":"MTk4NjIyNDgzNDcxOTI1MjQ4.Cl2FMQ.ZnCjm1XVW7vRze4b7Cq4se7kKWs","service_name":"test_discord_bot","is_active":true}}]},"total":{"type":"integer","description":"The total number of replica items available across all pages","example":100}},"required":["success","type","items","total"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}},"post":{"tags":["Replicas"],"security":[{"OrganizationServiceToken":[]}],"summary":"Create a replica","description":"Creates a new replica.","parameters":[{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","maxLength":50,"description":"The name of the replica.","example":"John Smith"},"purpose":{"type":"string","maxLength":200,"description":"The purpose of the replica. This field is not used for training the replica.","example":"Acts as my AI twin for answering questions about my creative work."},"shortDescription":{"type":"string","maxLength":50,"description":"A short description of your replica. This field is not used for training the replica.","example":"John Smith is a 55 year old accountant from Brooklyn who loves sports and his family."},"greeting":{"type":"string","maxLength":600,"description":"The first thing your replica will say when you start a conversation with them.","example":"What would you like to know?"},"type":{"type":"string","enum":["individual","character","brand"],"default":"character","description":"The replica type.\n`individual`: A replica of yourself.\n`character`: A replica of a character: can be anything you want.\n`brand`: A replica of a business persona or organization.\n"},"ownerID":{"type":"string","description":"The replica owner ID.","example":"a-user-id"},"private":{"type":"boolean","default":false,"description":"Visibility of the replica. When set to `true`, only the owner and users on the allowlist will be able to find the replica and chat with it."},"whitelistEmails":{"type":"array","items":{"type":"string","format":"email"},"default":[],"description":"Emails of users who can use the replica when the replica is private.","example":["user@domain.example"]},"slug":{"type":"string","maxLength":50,"description":"The slug of the replica. Slugs can be used by API consumers to determine the URLs where replicas can be found.","example":"example-replica"},"tags":{"type":"array","items":{"type":"string"},"default":[],"description":"The tags associated with the replica. Tags help categorize replicas and make them easier to find.","example":["male","italian"]},"profileImage":{"type":"string","format":"uri","pattern":"https?:\\/\\/[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]+\\b([-a-zA-Z0-9()@:%_+.~#?&\\/=]*)","default":"https://sensay.io/assets/default-replica-profile.webp","description":"The URL of the profile image of the replica. The image will be downloaded, optimized and stored on our servers, so the URL in the response will be different. Supported formats: .jpg, .jpeg, .png, .bmp, .webp, .avif","example":"https://images.invalid/photo.jpeg"},"suggestedQuestions":{"type":"array","items":{"type":"string"},"default":[],"description":"Suggested questions when starting a conversation.","example":["What is the meaning of life?"]},"llm":{"type":"object","properties":{"model":{"type":"string","enum":["gpt-4o","claude-3-5-haiku-latest","claude-3-7-sonnet-latest","claude-4-sonnet-20250514","grok-2-latest","grok-3-beta","deepseek-chat","o3-mini","gpt-4o-mini","huggingface-eva","huggingface-dolphin-llama"],"default":"claude-3-5-haiku-latest","description":"The LLM model of the replica.","example":"gpt-4o"},"memoryMode":{"type":"string","enum":["prompt-caching","rag-search"],"default":"rag-search","description":"Deprecated. The system will automatically choose the best approach.","deprecated":true},"systemMessage":{"type":"string","maxLength":30000,"description":"Who is your replica? How do you want it to talk, respond and act.","example":"Concise, knowledgeable, empathetic and cheerful."},"tools":{"type":"array","items":{"type":"string","enum":["getTokenInfo","getUdaoTokenInfo","getSensayTokenInfo","getTokenInfoMEAI","answerToLife","toolhouse","brightUnionGetQuoteTool","brightUnionGetCoverablesTool"]},"default":[],"description":"The replica's tools. Tools enable agents to interact with the world. `getTokenInfo`: Allows replica to get token information\n","example":["getTokenInfo"]}}},"voicePreviewText":{"type":"string","maxLength":400,"description":"Text that can be used to generate a voice preview.","example":"Hi, I'm your Sensay replica! How can I assist you today?"}},"required":["name","shortDescription","greeting","ownerID","slug","llm"],"additionalProperties":false}}}},"responses":{"201":{"description":"The created replica","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates if the replica was created successfully","example":true},"uuid":{"type":"string","format":"uuid","description":"The replica UUID","example":"654c2874-0b43-4d84-85fc-62ba866da1cb"}},"required":["success","uuid"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/api-keys/invites/{code}/redeem":{"post":{"tags":["API Keys"],"summary":"Redeem an API key invitation","description":"\n  If you have an invitation code, you can redeem it to create an Organization and an API key associated with it.\n  ","parameters":[{"schema":{"type":"string","description":"The code of the invite you want to redeem."},"required":true,"name":"code","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"organizationName":{"type":"string","description":"The name of the organization you want to create."},"name":{"type":"string","description":"The name of the point of contact for the API subscription."},"email":{"type":"string","format":"email","description":"The email of the point of contact for the API subscription."}},"required":["organizationName","name","email"],"additionalProperties":false}}}},"responses":{"200":{"description":"Details about the created Organization and API Key.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","enum":[true]},"apiKey":{"type":"string","description":"The API key you will need to use to authenticate your requests. The key cannot be retrieved again after it is created: keep it safe."},"organizationID":{"type":"string","description":"The ID of the organization you have just created. You will need this ID to communicate with our team. Keep it safe."},"validUntil":{"type":["string","null"],"description":"The date until which the API subscroption is valid."}},"required":["success","apiKey","organizationID","validUntil"],"additionalProperties":false,"example":{"success":true,"apiKey":"1234567890","organizationID":"1234567890","validUntil":"2021-01-01"}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/chat/history":{"get":{"tags":["Chat history"],"summary":"Get chat history","description":"List chat history items of a Replica belonging to the logged in user.","security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"List the chat history of the replica by the currently logged in user","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"type":{"type":"string"},"items":{"type":"array","items":{"type":"object","properties":{"content":{"type":"string","description":"The content of the message","example":"Hello"},"created_at":{"type":"string","format":"date-time","description":"The date and time the message was created","example":"2024-09-24T09:09:55.66709+00:00"},"id":{"type":"number","description":"The ID of the message","example":1},"is_private":{"type":"boolean","description":"Whether the replica is private","example":false},"role":{"type":"string","enum":["user","assistant"],"description":"The role of the message","example":"user"},"source":{"type":"string","enum":["discord","telegram","embed","web","telegram_autopilot"],"description":"From which platform is message was sent from","example":"web"},"sources":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"The ID of the source","example":123},"score":{"type":"number","description":"Relevance score of the source","example":0.9},"status":{"type":"string","enum":["scored","unscored"],"description":"If the source has ever been scored or not","example":"scored"},"created_at":{"type":"string","format":"date-time","description":"When the source was created","example":"2024-03-15T14:30:00.000Z"},"name":{"type":"string","description":"The name of the source","example":"Q: Next, what’s your nationality?"},"content":{"type":"string","description":"The actual content retrieved from the source","example":"Next, what’s your nationality? Mars"}},"required":["id","score","status","created_at","name","content"]},"description":"The sources of information used to create the response via RAG (Retrieval-Augmented Generation)"},"user_uuid":{"type":"string","description":"The UUID of the user","example":"03db5651-cb61-4bdf-9ef0-89561f7c9c53"},"original_message_id":{"type":["string","null"],"description":"The ID of the message from the LLM. Present when role is assistant. Will be removed in the future.","example":"msg-GbsIAyNcNZCMAaDET3zXhInw","deprecated":true}},"required":["content","created_at","id","is_private","role","source","sources","user_uuid","original_message_id"]}}},"required":["success","type"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"The replica specified could not be found or you do not have access to it"},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}},"post":{"tags":["Chat history"],"summary":"Create a chat history entry","description":"Save chat history items of a Replica belonging to the logged in user.","security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string","minLength":1,"description":"Content of the message","example":"How did you handle the immense pressure during the Civil War?"},"source":{"type":"string","enum":["discord","telegram","embed","web","telegram_autopilot"],"description":"The place where the conversation is happening, which informs where the message should be saved in the chat history."},"discord_data":{"type":"object","properties":{"channel_id":{"type":"string","description":"Channel ID"},"channel_name":{"type":"string","description":"Channel name"},"author_id":{"type":"string","description":"Author ID"},"author_name":{"type":"string","description":"Author name"},"message_id":{"type":"string","description":"Message ID"},"created_at":{"type":"string","description":"Message creation timestamp"},"server_id":{"type":"string","description":"Server ID"},"server_name":{"type":"string","description":"Server name"}},"required":["channel_id","channel_name","author_id","author_name","message_id"],"additionalProperties":false,"description":"Discord information about the message"}},"required":["content"],"additionalProperties":false}}}},"responses":{"200":{"description":"Saves the chat history of the replica by the currently logged in user.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"}},"required":["success"]}}}},"404":{"description":"The replica specified could not be found or you do not have access to it"}}}},"/v1/replicas/{replicaUUID}/chat/history/telegram":{"get":{"tags":["Telegram integration"],"summary":"Get Telegram chat history","description":"List telegram chat history items of a Replica belonging to the logged in user.","security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"}],"responses":{"200":{"description":"List the chat history of the replica by the currently logged in user","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"type":{"type":"string"},"items":{"type":"array","items":{"type":"object","properties":{"content":{"type":"string","description":"The content of the message","example":"Hello"},"created_at":{"type":"string","format":"date-time","description":"The date and time the message was created","example":"2024-09-24T09:09:55.66709+00:00"},"id":{"type":"number","description":"The ID of the message","example":1},"is_private":{"type":"boolean","description":"Whether the replica is private","example":false},"role":{"type":"string","enum":["user","assistant"],"description":"The role of the message","example":"user"},"source":{"type":"string","enum":["discord","telegram","embed","web","telegram_autopilot"],"description":"From which platform is message was sent from","example":"web"},"sources":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"The ID of the source","example":123},"score":{"type":"number","description":"Relevance score of the source","example":0.9},"status":{"type":"string","enum":["scored","unscored"],"description":"If the source has ever been scored or not","example":"scored"},"created_at":{"type":"string","format":"date-time","description":"When the source was created","example":"2024-03-15T14:30:00.000Z"},"name":{"type":"string","description":"The name of the source","example":"Q: Next, what’s your nationality?"},"content":{"type":"string","description":"The actual content retrieved from the source","example":"Next, what’s your nationality? Mars"}},"required":["id","score","status","created_at","name","content"]},"description":"The sources of information used to create the response via RAG (Retrieval-Augmented Generation)"},"user_uuid":{"type":"string","description":"The UUID of the user","example":"03db5651-cb61-4bdf-9ef0-89561f7c9c53"},"original_message_id":{"type":["string","null"],"description":"The ID of the message from the LLM. Present when role is assistant. Will be removed in the future.","example":"msg-GbsIAyNcNZCMAaDET3zXhInw","deprecated":true}},"required":["content","created_at","id","is_private","role","source","sources","user_uuid","original_message_id"]}}},"required":["success","type"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"The replica specified could not be found or you do not have access to it"},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}},"post":{"tags":["Telegram integration"],"summary":"Create a Telegram chat history entry","description":"Save chat history items of a Replica belonging to the logged in user.","security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string","minLength":1,"description":"Content of the message","example":"How did you handle the immense pressure during the Civil War?"},"telegram_data":{"type":"object","properties":{"chat_type":{"type":"string","description":"Type of the chat, can be either `private`, `group`, `supergroup` or `channel`."},"chat_id":{"type":"number","description":"Unique identifier for this chat."},"user_id":{"type":"number","description":"Sender of the message's userID; may be empty for messages sent to channels. For backward compatibility, if the message was sent on behalf of a chat, the field contains a fake sender user in non-channel chats."},"username":{"type":"string","description":"Sender of the message's username; may be empty for messages sent to channels. For backward compatibility, if the message was sent on behalf of a chat, the field contains a fake sender user in non-channel chats."},"message_id":{"type":"number","description":"Unique message identifier inside this chat. In specific instances (e.g., message containing a video sent to a big chat)."},"message_thread_id":{"type":"number","exclusiveMinimum":0,"description":"Unique identifier of a message thread or a forum topic to which the message belongs; for supergroups only."}},"required":["chat_type","chat_id","message_id"],"additionalProperties":false,"description":"Telegram information about the message"}},"required":["content","telegram_data"],"additionalProperties":false}}}},"responses":{"200":{"description":"Saves the chat history of the replica by the currently logged in user.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"}},"required":["success"]}}}},"404":{"description":"The replica specified could not be found or you do not have access to it"}}}},"/v1/replicas/{replicaUUID}/chat/history/discord":{"get":{"tags":["Discord integration"],"summary":"Get Discord chat history","description":"List discord chat history items of a Replica belonging to the logged in user.","security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"}],"responses":{"200":{"description":"List the chat history of the replica by the currently logged in user","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"type":{"type":"string"},"items":{"type":"array","items":{"type":"object","properties":{"content":{"type":"string","description":"The content of the message","example":"Hello"},"created_at":{"type":"string","format":"date-time","description":"The date and time the message was created","example":"2024-09-24T09:09:55.66709+00:00"},"id":{"type":"number","description":"The ID of the message","example":1},"is_private":{"type":"boolean","description":"Whether the replica is private","example":false},"role":{"type":"string","enum":["user","assistant"],"description":"The role of the message","example":"user"},"source":{"type":"string","enum":["discord","telegram","embed","web","telegram_autopilot"],"description":"From which platform is message was sent from","example":"web"},"sources":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"The ID of the source","example":123},"score":{"type":"number","description":"Relevance score of the source","example":0.9},"status":{"type":"string","enum":["scored","unscored"],"description":"If the source has ever been scored or not","example":"scored"},"created_at":{"type":"string","format":"date-time","description":"When the source was created","example":"2024-03-15T14:30:00.000Z"},"name":{"type":"string","description":"The name of the source","example":"Q: Next, what’s your nationality?"},"content":{"type":"string","description":"The actual content retrieved from the source","example":"Next, what’s your nationality? Mars"}},"required":["id","score","status","created_at","name","content"]},"description":"The sources of information used to create the response via RAG (Retrieval-Augmented Generation)"},"user_uuid":{"type":"string","description":"The UUID of the user","example":"03db5651-cb61-4bdf-9ef0-89561f7c9c53"},"original_message_id":{"type":["string","null"],"description":"The ID of the message from the LLM. Present when role is assistant. Will be removed in the future.","example":"msg-GbsIAyNcNZCMAaDET3zXhInw","deprecated":true}},"required":["content","created_at","id","is_private","role","source","sources","user_uuid","original_message_id"]}}},"required":["success","type"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"The replica specified could not be found or you do not have access to it"},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/chat/history/web":{"get":{"tags":["Chat history"],"summary":"Get Web chat history","description":"List web chat history items of a Replica belonging to the logged in user.","security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"}],"responses":{"200":{"description":"List the chat history of the replica by the currently logged in user","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"type":{"type":"string"},"items":{"type":"array","items":{"type":"object","properties":{"content":{"type":"string","description":"The content of the message","example":"Hello"},"created_at":{"type":"string","format":"date-time","description":"The date and time the message was created","example":"2024-09-24T09:09:55.66709+00:00"},"id":{"type":"number","description":"The ID of the message","example":1},"is_private":{"type":"boolean","description":"Whether the replica is private","example":false},"role":{"type":"string","enum":["user","assistant"],"description":"The role of the message","example":"user"},"source":{"type":"string","enum":["discord","telegram","embed","web","telegram_autopilot"],"description":"From which platform is message was sent from","example":"web"},"sources":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"The ID of the source","example":123},"score":{"type":"number","description":"Relevance score of the source","example":0.9},"status":{"type":"string","enum":["scored","unscored"],"description":"If the source has ever been scored or not","example":"scored"},"created_at":{"type":"string","format":"date-time","description":"When the source was created","example":"2024-03-15T14:30:00.000Z"},"name":{"type":"string","description":"The name of the source","example":"Q: Next, what’s your nationality?"},"content":{"type":"string","description":"The actual content retrieved from the source","example":"Next, what’s your nationality? Mars"}},"required":["id","score","status","created_at","name","content"]},"description":"The sources of information used to create the response via RAG (Retrieval-Augmented Generation)"},"user_uuid":{"type":"string","description":"The UUID of the user","example":"03db5651-cb61-4bdf-9ef0-89561f7c9c53"},"original_message_id":{"type":["string","null"],"description":"The ID of the message from the LLM. Present when role is assistant. Will be removed in the future.","example":"msg-GbsIAyNcNZCMAaDET3zXhInw","deprecated":true}},"required":["content","created_at","id","is_private","role","source","sources","user_uuid","original_message_id"]}}},"required":["success","type"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"The replica specified could not be found or you do not have access to it"},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/chat/history/embed":{"get":{"tags":["Chat-widget integration"],"summary":"Get Embed chat history","description":"List embed chat history items of a Replica belonging to the logged in user.","security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"}],"responses":{"200":{"description":"List the chat history of the replica by the currently logged in user","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"type":{"type":"string"},"items":{"type":"array","items":{"type":"object","properties":{"content":{"type":"string","description":"The content of the message","example":"Hello"},"created_at":{"type":"string","format":"date-time","description":"The date and time the message was created","example":"2024-09-24T09:09:55.66709+00:00"},"id":{"type":"number","description":"The ID of the message","example":1},"is_private":{"type":"boolean","description":"Whether the replica is private","example":false},"role":{"type":"string","enum":["user","assistant"],"description":"The role of the message","example":"user"},"source":{"type":"string","enum":["discord","telegram","embed","web","telegram_autopilot"],"description":"From which platform is message was sent from","example":"web"},"sources":{"type":"array","items":{"type":"object","properties":{"id":{"type":"number","description":"The ID of the source","example":123},"score":{"type":"number","description":"Relevance score of the source","example":0.9},"status":{"type":"string","enum":["scored","unscored"],"description":"If the source has ever been scored or not","example":"scored"},"created_at":{"type":"string","format":"date-time","description":"When the source was created","example":"2024-03-15T14:30:00.000Z"},"name":{"type":"string","description":"The name of the source","example":"Q: Next, what’s your nationality?"},"content":{"type":"string","description":"The actual content retrieved from the source","example":"Next, what’s your nationality? Mars"}},"required":["id","score","status","created_at","name","content"]},"description":"The sources of information used to create the response via RAG (Retrieval-Augmented Generation)"},"user_uuid":{"type":"string","description":"The UUID of the user","example":"03db5651-cb61-4bdf-9ef0-89561f7c9c53"},"original_message_id":{"type":["string","null"],"description":"The ID of the message from the LLM. Present when role is assistant. Will be removed in the future.","example":"msg-GbsIAyNcNZCMAaDET3zXhInw","deprecated":true}},"required":["content","created_at","id","is_private","role","source","sources","user_uuid","original_message_id"]}}},"required":["success","type"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"The replica specified could not be found or you do not have access to it"},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/chat/completions":{"post":{"tags":["Chat completions"],"summary":"Generate a completion","description":"\n  Ask for a completion and stores the prompt in the chat history.\n\n  Replica chat supports two response formats: streamed and JSON. To switch between these formats, use the 'Accept' header, specifying either 'text/event-stream' for streaming or 'application/json' for JSON.\n  The streamed response honours the [Stream Protocol](https://sdk.vercel.ai/docs/ai-sdk-ui/stream-protocol), allowing the use of a number of SDKs, including [Vercel AI SDK](https://sdk.vercel.ai/docs/introduction).\n\n  The streamed variant is not specified in the OpenAPI Schema because it is not an OpenAPI endpoint.\n  ","security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string","minLength":1,"maxLength":100000,"description":"The prompt to generate completions for, encoded as a string.","example":"How did you handle the immense pressure during the Civil War?"},"skip_chat_history":{"type":"boolean","default":false,"description":"When set to true, historical messages are not used in the context, and the message is not appended to the conversation history, thus it is excluded from all future chat context."},"source":{"type":"string","enum":["discord","telegram","embed","web","telegram_autopilot"],"description":"The place where the conversation is happening, which informs where the message should be saved in the chat history."},"discord_data":{"type":"object","properties":{"channel_id":{"type":"string","description":"Channel ID"},"channel_name":{"type":"string","description":"Channel name"},"author_id":{"type":"string","description":"Author ID"},"author_name":{"type":"string","description":"Author name"},"message_id":{"type":"string","description":"Message ID"},"created_at":{"type":"string","description":"Message creation timestamp"},"server_id":{"type":"string","description":"Server ID"},"server_name":{"type":"string","description":"Server name"}},"required":["channel_id","channel_name","author_id","author_name","message_id"],"additionalProperties":false,"description":"Discord information about the message"}},"required":["content"],"additionalProperties":false}}}},"responses":{"200":{"description":"List of chat messages had with a replica by the current user, including the completion","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"content":{"type":"string"}},"required":["success","content"],"example":{"success":true,"content":"I handled the immense pressure during the Civil War by..."}}},"text/event-stream":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"content":{"type":"string"}},"required":["success","content"],"example":{"success":true,"content":"I handled the immense pressure during the Civil War by..."}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/chat/completions/telegram":{"post":{"tags":["Telegram integration"],"summary":"Generate a Telegram completion","description":"\n    Ask for a completion and stores the prompt in the chat history.\n  \n    Replica chat supports two response formats: streamed and JSON. To switch between these formats, use the 'Accept' header, specifying either 'text/event-stream' for streaming or 'application/json' for JSON.\n    The streamed response honours the [Stream Protocol](https://sdk.vercel.ai/docs/ai-sdk-ui/stream-protocol), allowing the use of a number of SDKs, including [Vercel AI SDK](https://sdk.vercel.ai/docs/introduction).\n  \n    The streamed variant is not specified in the OpenAPI Schema because it is not an OpenAPI endpoint.\n    ","security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string","minLength":1,"maxLength":100000,"description":"The prompt to generate completions for, encoded as a string.","example":"How did you handle the immense pressure during the Civil War?"},"skip_chat_history":{"type":"boolean","default":false,"description":"When set to true, historical messages are not used in the context, and the message is not appended to the conversation history, thus it is excluded from all future chat context."},"imageURL":{"type":"string","format":"uri","pattern":"https?:\\/\\/[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]+\\b([-a-zA-Z0-9()@:%_+.~#?&\\/=]*)","description":"The URL of the image to be used as context for the completion.","example":"https://images.invalid/photo.jpeg","x-beta":true},"telegram_data":{"type":"object","properties":{"chat_type":{"type":"string","description":"Type of the chat, can be either `private`, `group`, `supergroup` or `channel`."},"chat_id":{"type":"number","description":"Unique identifier for this chat."},"user_id":{"type":"number","description":"Sender of the message's userID; may be empty for messages sent to channels. For backward compatibility, if the message was sent on behalf of a chat, the field contains a fake sender user in non-channel chats."},"username":{"type":"string","description":"Sender of the message's username; may be empty for messages sent to channels. For backward compatibility, if the message was sent on behalf of a chat, the field contains a fake sender user in non-channel chats."},"message_id":{"type":"number","description":"Unique message identifier inside this chat. In specific instances (e.g., message containing a video sent to a big chat)."},"message_thread_id":{"type":"number","exclusiveMinimum":0,"description":"Unique identifier of a message thread or a forum topic to which the message belongs; for supergroups only."}},"required":["chat_type","chat_id","message_id"],"additionalProperties":false,"description":"Telegram information about the message"}},"required":["content","telegram_data"],"additionalProperties":false}}}},"responses":{"200":{"description":"List of chat messages had with a replica by the current user, including the completion","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"content":{"type":"string"}},"required":["success","content"],"example":{"success":true,"content":"I handled the immense pressure during the Civil War by..."}}},"text/event-stream":{"schema":{"type":"object","properties":{"success":{"type":"boolean"},"content":{"type":"string"}},"required":["success","content"],"example":{"success":true,"content":"I handled the immense pressure during the Civil War by..."}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/chat/completions/test":{"post":{"tags":["Chat completions","Internal"],"summary":"Test chat completions","description":"\n  Testing endpoint for evaluating RAG (Retrieval-Augmented Generation) quality. This endpoint allows to test how effectively the system retrieves relevant knowledge base entries and generates responses based on them. It returns not only the generated response but also the search queries used and the knowledge base entries that matched those queries. This is a simplified version that doesn't persist data to the database or chat history.\n  \n  Note: This endpoint is restricted to internal RAG workers and is not intended for general API users.\n  ","security":[{"OrganizationServiceToken":[]}],"x-hidden":true,"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"content":{"type":"string","minLength":1,"maxLength":100000,"description":"The prompt to generate completions for, encoded as a string.","example":"How did you handle the immense pressure during the Civil War?"},"skip_chat_history":{"type":"boolean","default":false,"description":"When set to true, historical messages are not used in the context, and the message is not appended to the conversation history, thus it is excluded from all future chat context."}},"required":["content"],"additionalProperties":false}}}},"responses":{"200":{"description":"Test endpoint for RAG Worker to check RAG retrieval and generation quality","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates if the test chat completion was processed successfully","example":true},"content":{"type":"string","description":"The complete response text generated by the replica based on the retrieved knowledge base entries","example":"Our business hours are Monday to Friday, 9 AM to 5 PM Eastern Time."},"queries":{"type":"array","items":{"type":"string"},"description":"The search queries that were automatically generated to find relevant information in the knowledge base","example":["business hours","opening hours","when are you open"]},"matches":{"type":"array","items":{},"description":"The specific knowledge base entries that matched the queries and were used to generate the response","example":[{"id":"123","score":0.92,"content":"Our company was founded in 2020. We specialize in AI-powered customer service solutions. Our business hours are Monday to Friday, 9 AM to 5 PM Eastern Time."}]}},"required":["success","content","queries","matches"],"example":{"success":true,"content":"Our business hours are Monday to Friday, 9 AM to 5 PM Eastern Time.","queries":["What are your business hours?","When are you open?"],"matches":[{"id":"123","content":"Our company was founded in 2020. We specialize in AI-powered customer service solutions. Our business hours are Monday to Friday, 9 AM to 5 PM Eastern Time."}]}}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/experimental/replicas/{replicaUUID}/chat/completions":{"post":{"tags":["Experimental","Chat completions"],"summary":"Generate a completion (OpenAI-compatible, non-streaming)","description":"\n  > warn\n  > Limited [OpenAI Chat Completions API](https://platform.openai.com/docs/api-reference/chat/create) compatibility.\n  > Supports basic chat completion with standard message roles and JSON responses.\n  > Not supported: OpenAI-style streaming, tool calls, stop sequences, logprobs, and most request parameters.\n\n  Creates a chat completion response from a list of messages comprising a conversation.\n  ","security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]}],"x-beta":true,"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"messages":{"type":"array","items":{"type":"object","properties":{"role":{"type":"string","enum":["assistant","developer","system","tool","user"],"description":"The role of the message author. Can be \"assistant\", \"developer\", \"system\", \"tool\", or \"user\".","example":"user"},"content":{"type":"string","minLength":1,"maxLength":100000,"description":"The content of the message.","example":"How did you handle the immense pressure during the Civil War?"},"name":{"type":"string","description":"An optional name for the participant. Provides the model information to differentiate between participants of the same role.","example":"example_user"}},"required":["role","content"]},"description":"A list of messages that make up the conversation context. Only the last message is used for completion.","example":[{"role":"system","content":"You are a helpful assistant."},{"role":"user","content":"How did you handle the immense pressure during the Civil War?"}]},"store":{"type":"boolean","default":true,"description":"When set to false, historical messages are not used in the context, and the message is not appended to the conversation history.","example":true},"source":{"type":"string","enum":["discord","embed","web"],"default":"web","description":"The place where the conversation is happening, which informs where the message should be saved in the chat history if `store` is true.","example":"web"},"discord_data":{"type":"object","properties":{"channel_id":{"type":"string","description":"Channel ID"},"channel_name":{"type":"string","description":"Channel name"},"author_id":{"type":"string","description":"Author ID"},"author_name":{"type":"string","description":"Author name"},"message_id":{"type":"string","description":"Message ID"},"created_at":{"type":"string","description":"Message creation timestamp"},"server_id":{"type":"string","description":"Server ID"},"server_name":{"type":"string","description":"Server name"}},"required":["channel_id","channel_name","author_id","author_name","message_id"],"additionalProperties":false,"description":"Discord information about the message"}},"required":["messages"]}}}},"responses":{"200":{"description":"Chat completion response in OpenAI compatible format","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"string","description":"A unique identifier for the chat completion.","example":"chatcmpl-abc123"},"created":{"type":"integer","description":"The Unix timestamp (in seconds) of when the chat completion was created.","example":1677858242},"object":{"type":"string","enum":["chat.completion"],"description":"The object type, which is always \"chat.completion\"","example":"chat.completion"},"model":{"type":"string","description":"The model used for the chat completion.","example":"o1"},"choices":{"type":"array","items":{"type":"object","properties":{"index":{"type":"integer","description":"The index of the choice in the array.","example":0},"message":{"type":"object","properties":{"role":{"type":"string","enum":["assistant"],"description":"The role of the message author, which is always \"assistant\" for completions.","example":"assistant"},"content":{"type":"string","description":"The content of the message.","example":"During the Civil War, I faced tremendous pressure..."},"tool_calls":{"type":"array","items":{},"description":"The tool calls generated by the model, such as function calls."}},"required":["role","content"],"description":"The message generated by the model."},"logprobs":{"description":"Log probabilities for token generation if requested."},"finish_reason":{"type":"string","enum":["stop","length","tool_calls","content_filter","function_call"],"description":"The reason the model stopped generating tokens.","example":"stop"}},"required":["index","message","finish_reason"]},"description":"An array of chat completion choices."},"usage":{"type":"object","properties":{"prompt_tokens":{"type":"integer","description":"Number of tokens in the prompt.","example":56},"completion_tokens":{"type":"integer","description":"Number of tokens in the generated completion.","example":31},"total_tokens":{"type":"integer","description":"Total number of tokens used (prompt + completion).","example":87}},"required":["prompt_tokens","completion_tokens","total_tokens"],"description":"Usage statistics for the completion request."}},"required":["id","created","object","model","choices","usage"],"description":"The response format for chat completions."}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/users/me":{"get":{"tags":["Users"],"security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]}],"summary":"Get the current user","description":"Returns information about the current user.","parameters":[{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"User information","content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The name of the user","example":"John Doe"},"email":{"type":"string","format":"email","description":"The email address","example":"user@example.com"},"id":{"type":"string","minLength":1,"description":"The ID of the user","example":"johndoe"},"linkedAccounts":{"type":"array","items":{"type":"object","properties":{"accountID":{"type":"string","description":"The account ID"},"accountType":{"type":"string","enum":["discord","telegram","embed"],"description":"The account type","example":"discord"}},"required":["accountID","accountType"]},"description":"The linked accounts of the user"}},"required":["id"],"additionalProperties":false}}}}}},"delete":{"tags":["Users"],"security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]}],"summary":"Delete the current user","description":"This endpoint permanently deletes the currently authenticated user account, including all associated data. After deletion, the account cannot be recovered.","parameters":[{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"204":{"description":"User deleted successfully"},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}},"put":{"tags":["Users"],"security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]}],"summary":"Update the current user","description":"Update the currently logged in user.","parameters":[{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The name of the user","example":"John Doe"},"email":{"type":"string","format":"email","description":"The email address","example":"user@example.com"},"id":{"type":"string","minLength":1,"description":"The ID of the user","example":"johndoe"},"linkedAccounts":{"type":"array","items":{"type":"object","properties":{"accountID":{"type":"string","description":"The account ID"},"accountType":{"type":"string","enum":["discord","telegram","embed"],"description":"The account type","example":"discord"}},"required":["accountID","accountType"]},"description":"The linked accounts of the user"}},"required":["id"],"additionalProperties":false}}}},"responses":{"200":{"description":"The updated User entity","content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The name of the user","example":"John Doe"},"email":{"type":"string","format":"email","description":"The email address","example":"user@example.com"},"id":{"type":"string","minLength":1,"description":"The ID of the user","example":"johndoe"},"linkedAccounts":{"type":"array","items":{"type":"object","properties":{"accountID":{"type":"string","description":"The account ID"},"accountType":{"type":"string","enum":["discord","telegram","embed"],"description":"The account type","example":"discord"}},"required":["accountID","accountType"]},"description":"The linked accounts of the user"}},"required":["id"],"additionalProperties":false}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"409":{"description":"Linked account or email already exists or is invalid","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/users":{"post":{"tags":["Users"],"security":[{"OrganizationServiceToken":[]}],"summary":"Create a user","description":"Creates a new user.","parameters":[{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The name of the user","example":"John Doe"},"email":{"type":"string","format":"email","description":"The email address","example":"user@example.com"},"id":{"type":"string","description":"The ID of the user"},"linkedAccounts":{"type":"array","items":{"type":"object","properties":{"accountID":{"type":"string","description":"The account ID"},"accountType":{"type":"string","enum":["discord","telegram","embed"],"description":"The account type","example":"discord"}},"required":["accountID","accountType"]},"description":"The linked accounts of the user"}},"additionalProperties":false}}}},"responses":{"200":{"description":"The created User entity","content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The name of the user","example":"John Doe"},"email":{"type":"string","format":"email","description":"The email address","example":"user@example.com"},"id":{"type":"string","minLength":1,"description":"The ID of the user","example":"johndoe"},"linkedAccounts":{"type":"array","items":{"type":"object","properties":{"accountID":{"type":"string","description":"The account ID"},"accountType":{"type":"string","enum":["discord","telegram","embed"],"description":"The account type","example":"discord"}},"required":["accountID","accountType"]},"description":"The linked accounts of the user"}},"required":["id"],"additionalProperties":false}}}},"409":{"description":"User, email, or linked account already exists","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}}}}},"/v1/users/{userID}":{"get":{"tags":["Users"],"security":[{"OrganizationServiceToken":[]}],"summary":"Get a user by ID","description":"Returns information about the user with the specified ID.","parameters":[{"schema":{"type":"string","minLength":1,"description":"User ID","example":"03db5651-cb61-4bdf-9ef0-89561f7c9c53"},"required":true,"name":"userID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"User entity","content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","description":"The name of the user","example":"John Doe"},"email":{"type":"string","format":"email","description":"The email address","example":"user@example.com"},"id":{"type":"string","minLength":1,"description":"The ID of the user","example":"johndoe"},"linkedAccounts":{"type":"array","items":{"type":"object","properties":{"accountID":{"type":"string","description":"The account ID"},"accountType":{"type":"string","enum":["discord","telegram","embed"],"description":"The account type","example":"discord"}},"required":["accountID","accountType"]},"description":"The linked accounts of the user"}},"required":["id"],"additionalProperties":false}}}},"404":{"description":"User not found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/integrations/telegram":{"post":{"tags":["Telegram integration"],"security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"summary":"Create a replica Telegram integration","description":"Integrates a replica to Telegram. The default Sensay Telegram integration will run a bot for you until you delete the integration.","parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"telegram_token":{"type":"string","description":"Telegram Bot ID"},"mention":{"type":"string","description":"Telegram Bot Name"}},"required":["telegram_token","mention"],"additionalProperties":false}}}},"responses":{"200":{"description":"Telegram integration created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"id":{"type":"number"}},"required":["success","id"]}}}},"202":{"description":"Telegram integration created successfully, but failed to notify the external integration server. If you are using the default Sensay Telegram Integration, we will retry starting the bot asynchronously.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"id":{"type":"number"},"message":{"type":"string","description":"The reason why the operation is accepted instead of returning an immediate success.","example":"Telegram integration created successfully, but failed to notify the external integration server. If you are using the default Sensay Telegram Integration, we will retry starting the bot asynchronously."}},"required":["success","id","message"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}},"delete":{"tags":["Telegram integration"],"security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"summary":"Delete a replica Telegram integration","description":"Removes a replica Telegram integration.","parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"Telegram integration deleted successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"}},"required":["success"]}}}},"202":{"description":"Telegram integration deleted successfully, but failed to notify the external integration server. If you are using the default Sensay Telegram Integration, we will retry stopping the bot asynchronously.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"message":{"type":"string","description":"The reason why the operation is accepted instead of returning an immediate success.","example":"Telegram integration deleted successfully, but failed to notify the external integration server. If you are using the default Sensay Telegram Integration, we will retry stopping the bot asynchronously."}},"required":["success","message"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/integrations/discord":{"post":{"tags":["Discord integration"],"x-hidden":true,"security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"summary":"Create a replica Discord integration","description":"Integrates a replica to Discord. The default Sensay Discord integration will run a bot for you until you delete the integration.","parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"discordToken":{"type":"string","minLength":50,"maxLength":80,"description":"A Discord Token is a unique token that can be attained from the Discord Developer Portal. It is used to connect the discord integration to the replica.","example":"MTI5NDMSaMDKWjk3Mjk1OTgyNw.GCxRSO.rpnw8-GreFn4Fst5dufQ2y1On_XgzbvTDnsQ"}},"required":["discordToken"],"additionalProperties":false}}}},"responses":{"200":{"description":"Discord integration created successfully","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"}},"required":["success"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}":{"get":{"tags":["Replicas"],"security":[{"OrganizationServiceToken":[]}],"summary":"Get a replica","description":"Get an existing replica.","parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"The requested replica","content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","maxLength":50,"description":"The name of the replica.","example":"John Smith"},"purpose":{"type":"string","maxLength":200,"description":"The purpose of the replica. This field is not used for training the replica.","example":"Acts as my AI twin for answering questions about my creative work."},"shortDescription":{"type":"string","maxLength":50,"description":"A short description of your replica. This field is not used for training the replica.","example":"John Smith is a 55 year old accountant from Brooklyn who loves sports and his family."},"greeting":{"type":"string","maxLength":600,"description":"The first thing your replica will say when you start a conversation with them.","example":"What would you like to know?"},"type":{"type":"string","enum":["individual","character","brand"],"default":"character","description":"The replica type.\n`individual`: A replica of yourself.\n`character`: A replica of a character: can be anything you want.\n`brand`: A replica of a business persona or organization.\n"},"ownerID":{"type":"string","description":"The replica owner ID.","example":"a-user-id"},"private":{"type":"boolean","default":false,"description":"Visibility of the replica. When set to `true`, only the owner and users on the allowlist will be able to find the replica and chat with it."},"whitelistEmails":{"type":"array","items":{"type":"string","format":"email"},"default":[],"description":"Emails of users who can use the replica when the replica is private.","example":["user@domain.example"]},"slug":{"type":"string","maxLength":50,"description":"The slug of the replica. Slugs can be used by API consumers to determine the URLs where replicas can be found.","example":"example-replica"},"tags":{"type":"array","items":{"type":"string"},"default":[],"description":"The tags associated with the replica. Tags help categorize replicas and make them easier to find.","example":["male","italian"]},"profileImage":{"type":"string","format":"uri","pattern":"https?:\\/\\/[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]+\\b([-a-zA-Z0-9()@:%_+.~#?&\\/=]*)","default":"https://sensay.io/assets/default-replica-profile.webp","description":"The URL of the profile image of the replica. The image will be downloaded, optimized and stored on our servers, so the URL in the response will be different. Supported formats: .jpg, .jpeg, .png, .bmp, .webp, .avif","example":"https://images.invalid/photo.jpeg"},"suggestedQuestions":{"type":"array","items":{"type":"string"},"default":[],"description":"Suggested questions when starting a conversation.","example":["What is the meaning of life?"]},"llm":{"type":"object","properties":{"model":{"type":"string","enum":["gpt-4o","claude-3-5-haiku-latest","claude-3-7-sonnet-latest","claude-4-sonnet-20250514","grok-2-latest","grok-3-beta","deepseek-chat","o3-mini","gpt-4o-mini","huggingface-eva","huggingface-dolphin-llama"],"default":"claude-3-5-haiku-latest","description":"The LLM model of the replica.","example":"gpt-4o"},"memoryMode":{"type":"string","enum":["prompt-caching","rag-search"],"default":"rag-search","description":"Deprecated. The system will automatically choose the best approach.","deprecated":true},"systemMessage":{"type":"string","maxLength":30000,"description":"Who is your replica? How do you want it to talk, respond and act.","example":"Concise, knowledgeable, empathetic and cheerful."},"tools":{"type":"array","items":{"type":"string","enum":["getTokenInfo","getUdaoTokenInfo","getSensayTokenInfo","getTokenInfoMEAI","answerToLife","toolhouse","brightUnionGetQuoteTool","brightUnionGetCoverablesTool"]},"default":[],"description":"The replica's tools. Tools enable agents to interact with the world. `getTokenInfo`: Allows replica to get token information\n","example":["getTokenInfo"]}}},"voicePreviewText":{"type":"string","maxLength":400,"description":"Text that can be used to generate a voice preview.","example":"Hi, I'm your Sensay replica! How can I assist you today?"},"uuid":{"type":"string","format":"uuid","description":"The replica UUID","example":"4830597b-f3be-42b4-9587-fa15299ccd63"}},"required":["name","shortDescription","greeting","ownerID","slug","llm","uuid"],"additionalProperties":false}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}},"delete":{"tags":["Replicas"],"security":[{"OrganizationServiceToken":[]}],"summary":"Delete a replica","description":"Deletes a replica by UUID.","parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"Replica has been deleted","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates if the replica was deleted successfully","example":true}},"required":["success"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}},"put":{"tags":["Replicas"],"security":[{"OrganizationServiceToken":[]}],"summary":"Updates a replica","description":"Updates an existing replica.","parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"name":{"type":"string","maxLength":50,"description":"The name of the replica.","example":"John Smith"},"purpose":{"type":"string","maxLength":200,"description":"The purpose of the replica. This field is not used for training the replica.","example":"Acts as my AI twin for answering questions about my creative work."},"shortDescription":{"type":"string","maxLength":50,"description":"A short description of your replica. This field is not used for training the replica.","example":"John Smith is a 55 year old accountant from Brooklyn who loves sports and his family."},"greeting":{"type":"string","maxLength":600,"description":"The first thing your replica will say when you start a conversation with them.","example":"What would you like to know?"},"type":{"type":"string","enum":["individual","character","brand"],"default":"character","description":"The replica type.\n`individual`: A replica of yourself.\n`character`: A replica of a character: can be anything you want.\n`brand`: A replica of a business persona or organization.\n"},"ownerID":{"type":"string","description":"The replica owner ID.","example":"a-user-id"},"private":{"type":"boolean","default":false,"description":"Visibility of the replica. When set to `true`, only the owner and users on the allowlist will be able to find the replica and chat with it."},"whitelistEmails":{"type":"array","items":{"type":"string","format":"email"},"default":[],"description":"Emails of users who can use the replica when the replica is private.","example":["user@domain.example"]},"slug":{"type":"string","maxLength":50,"description":"The slug of the replica. Slugs can be used by API consumers to determine the URLs where replicas can be found.","example":"example-replica"},"tags":{"type":"array","items":{"type":"string"},"default":[],"description":"The tags associated with the replica. Tags help categorize replicas and make them easier to find.","example":["male","italian"]},"profileImage":{"type":"string","format":"uri","pattern":"https?:\\/\\/[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]+\\b([-a-zA-Z0-9()@:%_+.~#?&\\/=]*)","default":"https://sensay.io/assets/default-replica-profile.webp","description":"The URL of the profile image of the replica. The image will be downloaded, optimized and stored on our servers, so the URL in the response will be different. Supported formats: .jpg, .jpeg, .png, .bmp, .webp, .avif","example":"https://images.invalid/photo.jpeg"},"suggestedQuestions":{"type":"array","items":{"type":"string"},"default":[],"description":"Suggested questions when starting a conversation.","example":["What is the meaning of life?"]},"llm":{"type":"object","properties":{"model":{"type":"string","enum":["gpt-4o","claude-3-5-haiku-latest","claude-3-7-sonnet-latest","claude-4-sonnet-20250514","grok-2-latest","grok-3-beta","deepseek-chat","o3-mini","gpt-4o-mini","huggingface-eva","huggingface-dolphin-llama"],"default":"claude-3-5-haiku-latest","description":"The LLM model of the replica.","example":"gpt-4o"},"memoryMode":{"type":"string","enum":["prompt-caching","rag-search"],"default":"rag-search","description":"Deprecated. The system will automatically choose the best approach.","deprecated":true},"systemMessage":{"type":"string","maxLength":30000,"description":"Who is your replica? How do you want it to talk, respond and act.","example":"Concise, knowledgeable, empathetic and cheerful."},"tools":{"type":"array","items":{"type":"string","enum":["getTokenInfo","getUdaoTokenInfo","getSensayTokenInfo","getTokenInfoMEAI","answerToLife","toolhouse","brightUnionGetQuoteTool","brightUnionGetCoverablesTool"]},"default":[],"description":"The replica's tools. Tools enable agents to interact with the world. `getTokenInfo`: Allows replica to get token information\n","example":["getTokenInfo"]}}},"voicePreviewText":{"type":"string","maxLength":400,"description":"Text that can be used to generate a voice preview.","example":"Hi, I'm your Sensay replica! How can I assist you today?"}},"required":["name","shortDescription","greeting","ownerID","slug","llm"],"additionalProperties":false}}}},"responses":{"200":{"description":"The request outcome","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates if the replica was created successfully","example":true}},"required":["success"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"409":{"description":"Conflict","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/healthcheck":{"get":{"requestParams":{"query":{"_def":{"unknownKeys":"strip","catchall":{"_def":{"typeName":"ZodNever"},"~standard":{"version":1,"vendor":"zod"}},"typeName":"ZodObject"},"~standard":{"version":1,"vendor":"zod"},"_cached":null}},"tags":["Internal"],"x-hidden":true,"responses":{"200":{"description":"Healthcheck response - all services healthy","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"time":{"type":"number","description":"Current timestamp"},"services":{"type":"object","properties":{"supabase":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"qdrant":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"rabbitmq":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"vercel_kv":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"openai":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"anthropic":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"huggingface":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"xai":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"deepseek":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"toolhouse":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"youtube":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]}},"required":["supabase","qdrant","rabbitmq","vercel_kv"],"description":"Health status of external services"}},"required":["success","time","services"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Healthcheck response - one or more services unhealthy","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"time":{"type":"number","description":"Current timestamp"},"services":{"type":"object","properties":{"supabase":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"qdrant":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"rabbitmq":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"vercel_kv":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"openai":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"anthropic":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"huggingface":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"xai":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"deepseek":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"toolhouse":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]},"youtube":{"type":"object","properties":{"status":{"type":"number","description":"HTTP status code (200 for success, 500+ for error)"},"message":{"type":"string","description":"Status message or error description"}},"required":["status","message"]}},"required":["supabase","qdrant","rabbitmq","vercel_kv"],"description":"Health status of external services"}},"required":["success","time","services"]}}}}}}},"/v1/replicas/{replicaUUID}/conversations/{conversationUUID}":{"get":{"tags":["Conversations"],"security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"x-hidden":true,"summary":"Get conversation details","description":"Retrieve details for a specific conversation within a replica.","parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","format":"uuid","description":"The conversation UUID.","example":"4e162bcb-2a32-4b35-89bf-7cf729a73687"},"required":true,"name":"conversationUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"Conversation details","content":{"application/json":{"schema":{"type":"object","properties":{"uuid":{"type":"string","format":"uuid","description":"The conversation UUID.","example":"8e9309af-baa4-4a85-8c59-c3a2a0c2ad0f"},"source":{"type":"string","enum":["discord","telegram","embed","web","telegram_autopilot"],"description":"The source of the conversation.","example":"telegram"},"messageCount":{"type":"number","description":"The total number of messages in the conversation.","example":42},"assistantReplyCount":{"type":"number","description":"The total number of assistant replies in the conversation.","example":42},"firstMessageAt":{"type":"string","format":"date-time","description":"The timestamp of the first message in the conversation.","example":"2025-05-27T15:02:44.499744+00:00"},"lastMessageAt":{"type":"string","format":"date-time","description":"The timestamp of the last message in the conversation.","example":"2025-05-27T15:02:44.499744+00:00"},"lastReplicaReplyAt":{"type":"string","format":"date-time","description":"The timestamp of the last assistant reply in the conversation.","example":"2025-05-27T15:02:44.499744+00:00"},"conversationName":{"type":"string","description":"The name of the conversation. This can be the name of the user or the name of the group.","example":"John Doe"},"conversationImageURL":{"type":"string","description":"The image URL of the conversation. This can be the profile image of the user or the group.","example":"https://example.com/image.png"}},"required":["uuid","source","messageCount","assistantReplyCount"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/conversations":{"get":{"tags":["Conversations"],"security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"x-hidden":true,"summary":"List replica's conversations","description":"List of replica's conversations with pagination and sorting.","parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":["number","null"],"minimum":0,"maximum":100,"default":24,"description":"The number of items per page.","example":24},"required":false,"name":"pageSize","in":"query"},{"schema":{"type":"number","minimum":1,"default":1,"description":"The page number.","example":2},"required":false,"name":"page","in":"query"},{"schema":{"type":"string","enum":["replicaReplies","firstMessageAt","lastReplicaReplyAt"],"default":"lastReplicaReplyAt","description":"Sorts by count of assistant replies, time of first message, or time of the last replica reply."},"required":false,"description":"Sorts by count of assistant replies, time of first message, or time of the last replica reply.","name":"sortBy","in":"query"},{"schema":{"type":"string","enum":["asc","desc"],"default":"desc","description":"The order of the sort.","example":"asc"},"required":false,"name":"sortOrder","in":"query"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"List of conversations","content":{"application/json":{"schema":{"type":"object","properties":{"items":{"type":"array","items":{"type":"object","properties":{"uuid":{"type":"string","format":"uuid","description":"The conversation UUID.","example":"8e9309af-baa4-4a85-8c59-c3a2a0c2ad0f"},"source":{"type":"string","enum":["discord","telegram","embed","web","telegram_autopilot"],"description":"The source of the conversation.","example":"telegram"},"messageCount":{"type":"number","description":"The total number of messages in the conversation.","example":42},"assistantReplyCount":{"type":"number","description":"The total number of assistant replies in the conversation.","example":42},"firstMessageAt":{"type":"string","format":"date-time","description":"The timestamp of the first message in the conversation.","example":"2025-05-27T15:02:44.499744+00:00"},"lastMessageAt":{"type":"string","format":"date-time","description":"The timestamp of the last message in the conversation.","example":"2025-05-27T15:02:44.499744+00:00"},"lastReplicaReplyAt":{"type":"string","format":"date-time","description":"The timestamp of the last assistant reply in the conversation.","example":"2025-05-27T15:02:44.499744+00:00"},"conversationName":{"type":"string","description":"The name of the conversation. This can be the name of the user or the name of the group.","example":"John Doe"},"conversationImageURL":{"type":"string","description":"The image URL of the conversation. This can be the profile image of the user or the group.","example":"https://example.com/image.png"}},"required":["uuid","source","messageCount","assistantReplyCount"]}},"total":{"type":"number","description":"The total number of conversations for this replica.","example":1001}},"required":["items","total"],"additionalProperties":false}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/conversations/{conversationUUID}/mentions":{"get":{"tags":["Conversations"],"security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"x-hidden":true,"summary":"List mentions in a conversation","description":"Retrieves mentions of a replica in a specific conversation, together with context surrounding the mention. This endpoint supports cursor-based pagination. Returns most recent mentions first.","parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","format":"uuid","description":"The conversation unique identifier (UUID)","example":"4e162bcb-2a32-4b35-89bf-7cf729a73687"},"required":true,"name":"conversationUUID","in":"path"},{"schema":{"type":"number","minimum":1,"maximum":100,"default":20,"description":"The number of items to fetch. A group of messages is counted as 1 item and a placeholder is counted as 1 item.","example":10},"required":false,"name":"limit","in":"query"},{"schema":{"type":"string","format":"uuid","description":"Only returns results after the given message UUID. Excludes given message UUID.","example":"40d353f3-1241-449e-9fa6-c798d62c9cb1"},"required":false,"name":"afterUUID","in":"query"},{"schema":{"type":"string","format":"uuid","description":"Only returns results before the given message UUID. Excludes given message UUID.","example":"ec46b4db-3f0d-4392-b0f5-9fe327922e8a"},"required":false,"name":"beforeUUID","in":"query"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"List of messages/placeholders","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"items":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"uuid":{"type":"string","format":"uuid","description":"The UUID of the message.","example":"03db5651-cb61-4bdf-9ef0-89561f7c9c53"},"createdAt":{"type":"string","format":"date-time","description":"The date and time the message was created.","example":"2024-09-24T09:09:55.66709+00:00"},"content":{"type":"string","description":"The content of the message.","example":"Hello world!"},"role":{"type":"string","enum":["user","assistant"],"description":"The role of the message sender.","example":"user"},"senderName":{"type":"string","description":"The name of the message sender, if available.","example":"John Doe"},"senderProfileImageURL":{"type":"string","description":"The avatar URL of the message sender, if available.","example":"https://example.com/avatar.png"},"source":{"type":"string","enum":["discord","telegram","embed","web","telegram_autopilot"],"description":"The source of the message.","example":"web"},"replicaUUID":{"$ref":"#/components/schemas/replicaUUID_parameter"},"type":{"type":"string","enum":["message"]}},"required":["uuid","createdAt","content","role","source","replicaUUID","type"],"description":"A message in the conversation.","title":"Message"},{"type":"object","properties":{"type":{"type":"string","enum":["placeholder"]},"count":{"type":"number","description":"The number of messages collapsed into this placeholder","example":20}},"required":["type","count"],"description":"A placeholder, indicating that there are more messages that can be loaded in its place.","title":"Placeholder"}]}}},"required":["success","items"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/conversations/{conversationUUID}/messages":{"get":{"tags":["Conversations"],"x-hidden":false,"security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"summary":"List messages in a conversation","description":"Retrieves messages in a specific conversation with cursor-based pagination. Messages are sorted chronologically from oldest to newest.\n\nUse the `beforeUUID` parameter to get older messages and the `afterUUID` parameter to get newer messages. Please note:\n - When `beforeUUID` is specified, the most recent messages before `beforeUUID` are returned.\n - When `beforeUUID` and `afterUUID` are both specified, the most recent messages before `beforeUUID` are returned.\n - When `afterUUID` is specified on its own, the least recent messages after `afterUUID` are returned.","parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","format":"uuid","description":"The conversation UUID.","example":"4e162bcb-2a32-4b35-89bf-7cf729a73687"},"required":true,"name":"conversationUUID","in":"path"},{"schema":{"type":"number","minimum":1,"maximum":100,"default":20,"description":"The number of messages to fetch.","example":10},"required":false,"name":"limit","in":"query"},{"schema":{"type":"string","format":"uuid","description":"Only show messages after given message UUID. Excludes given message UUID.","example":"40d353f3-1241-449e-9fa6-c798d62c9cb1"},"required":false,"name":"afterUUID","in":"query"},{"schema":{"type":"string","format":"uuid","description":"Only show messages before given message UUID. Excludes given message UUID.","example":"ec46b4db-3f0d-4392-b0f5-9fe327922e8a"},"required":false,"name":"beforeUUID","in":"query"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"List of messages in the conversation","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"items":{"type":"array","items":{"type":"object","properties":{"uuid":{"type":"string","format":"uuid","description":"The UUID of the message.","example":"03db5651-cb61-4bdf-9ef0-89561f7c9c53"},"createdAt":{"type":"string","format":"date-time","description":"The date and time the message was created.","example":"2024-09-24T09:09:55.66709+00:00"},"content":{"type":"string","description":"The content of the message.","example":"Hello world!"},"role":{"type":"string","enum":["user","assistant"],"description":"The role of the message sender.","example":"user"},"senderName":{"type":"string","description":"The name of the message sender, if available.","example":"John Doe"},"senderProfileImageURL":{"type":"string","description":"The avatar URL of the message sender, if available.","example":"https://example.com/avatar.png"},"source":{"type":"string","enum":["discord","telegram","embed","web","telegram_autopilot"],"description":"The source of the message.","example":"web"},"replicaUUID":{"$ref":"#/components/schemas/replicaUUID_parameter"}},"required":["uuid","createdAt","content","role","source","replicaUUID"]}}},"required":["success","items"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/analytics/conversations/historical":{"get":{"tags":["Analytics"],"security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"x-hidden":true,"x-beta":true,"summary":"Get replica historical conversation analytics","description":"Returns cumulative conversation count for the last 30 days, up to and including today.","parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"Historical conversation analytics data","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"date":{"type":"string","format":"date","description":"The date in YYYY-MM-DD format.","example":"2025-05-15"},"cumulativeConversations":{"type":"integer","minimum":0,"description":"The cumulative number of conversations up to this date.","example":127}},"required":["date","cumulativeConversations"]},"description":"List of daily cumulative conversation counts for the last 30 days. The cutoff for counting conversations towards a specific day is UTC midnight.","example":[{"date":"2025-05-01","cumulativeConversations":100},{"date":"2025-05-02","cumulativeConversations":103},{"date":"2025-05-03","cumulativeConversations":108}]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/analytics/conversations/sources":{"get":{"tags":["Analytics"],"security":[{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]},{"OrganizationServiceToken":[]}],"x-hidden":true,"x-beta":true,"summary":"Get replica source analytics","description":"Returns interaction counts by source for the replica.","parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"Source analytics data","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","properties":{"source":{"type":"string","enum":["discord","telegram","embed","web","telegram_autopilot"],"description":"The source of the conversations.","example":"telegram"},"conversations":{"type":"integer","minimum":0,"description":"The total number of conversations from this source.","example":245}},"required":["source","conversations"]},"description":"List of conversation counts by source for the replica.","example":[{"source":"telegram","conversations":245},{"source":"discord","conversations":123},{"source":"web","conversations":89}]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/training":{"post":{"tags":["Training"],"security":[{"OrganizationServiceToken":[]}],"summary":"Create a knowledge base entry","description":"Creates a new empty knowledge base entry for a replica. This is the first step in the text-based training process. After creating the entry, you'll receive a knowledgeBaseID that you'll need to use in the next step to add your training content using the Update endpoint. The entry starts with a BLANK status and will be processed automatically once you add content.","x-beta":true,"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"The created knowledge base entry","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates if the knowledge base entry was created successfully"},"knowledgeBaseID":{"type":"number","description":"The unique identifier for the newly created knowledge base entry.","example":12345}},"required":["success","knowledgeBaseID"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/training/{trainingID}":{"put":{"tags":["Training"],"security":[{"OrganizationServiceToken":[]}],"summary":"Update knowledge base entry","description":"Updates a knowledge base entry with training content. This is the second step in the training process after creating an entry. You can provide \"rawText\" which is the content you want your replica to learn from (such as product information, company policies, or specialized knowledge). The system will automatically process this text and make it available for your replica to use when answering questions. The entry status will change to PROCESSING and then to READY once fully processed.","x-beta":true,"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"$ref":"#/components/schemas/trainingID_parameter"},"required":true,"name":"trainingID","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"rawText":{"type":"string","minLength":1,"description":"The text content you want your replica to learn","example":"Our company was founded in 2020. We specialize in AI-powered customer service solutions."},"processedText":{"type":"string","minLength":1,"description":"Pre-processed text ready for the knowledge base","example":"Our company was founded in 2020. We specialize in AI-powered customer service solutions."},"vectorEntryId":{"type":"string","description":"ID of the vector entry in the database","example":"1337"},"metadata":{"type":"object","additionalProperties":{},"description":"Additional information about the knowledge base entry (only used with vectorEntryId)","example":{"source":"company handbook","page":42,"tags":["company info","history"]}}},"additionalProperties":false}}}},"responses":{"200":{"description":"Knowledge base entry updated successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"}},"required":["success"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/training/{trainingID}":{"delete":{"tags":["Training"],"security":[{"OrganizationServiceToken":[]}],"summary":"Delete knowledge base entry by ID","description":"Permanently removes a specific knowledge base entry and its associated vector database entry. Use this endpoint when you need to remove outdated or incorrect training data from your replica's knowledge base. This operation cannot be undone, and the entry will no longer be available for retrieval during conversations with your replica. This endpoint handles the complete cleanup process, removing both the database record and any associated vector embeddings.","x-beta":true,"parameters":[{"schema":{"$ref":"#/components/schemas/trainingID_parameter"},"required":true,"name":"trainingID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"The knowledge base entry was deleted successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates whether the knowledge base entry and its associated vector embeddings were successfully deleted from the system","example":true}},"required":["success"]}}}},"404":{"description":"Knowledge base entry not found.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}}}},"get":{"tags":["Training"],"security":[{"OrganizationServiceToken":[]}],"summary":"Get knowledge base entry by ID","description":"Retrieves detailed information about a specific knowledge base entry using its ID. This endpoint returns the complete entry data including its type, status, content, and metadata. You can use this to check the processing status of your training content, view the raw and processed text, and see when it was created and last updated. This is useful for monitoring the progress of your training data as it moves through the processing pipeline.","x-beta":true,"parameters":[{"schema":{"$ref":"#/components/schemas/trainingID_parameter"},"required":true,"name":"trainingID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"The knowledge base entry returned successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"The unique identifier for this knowledge base entry. Use this ID in subsequent API calls to update or delete this entry.","example":12345},"replica_uuid":{"type":["string","null"],"format":"uuid","description":"The unique identifier of the replica that owns this knowledge base entry. This links the training data to a specific replica.","example":"03db5651-cb61-4bdf-9ef0-89561f7c9c53"},"type":{"type":"string","enum":["file_upload","url","training_history","text"],"description":"The type of knowledge base entry, indicating how the content was added and how it should be processed.","example":"file_upload"},"filename":{"type":["string","null"],"description":"For file_upload entries, the original filename that was uploaded. This helps identify the source of the content.","example":"company_handbook.pdf"},"url":{"type":"string","description":"For url entries, the original url","example":"http://example.com"},"status":{"type":"string","enum":["AWAITING_UPLOAD","SUPABASE_ONLY","PROCESSING","READY","SYNC_ERROR","ERR_FILE_PROCESSING","ERR_TEXT_PROCESSING","ERR_TEXT_TO_VECTOR","BLANK"],"description":"The current stage in the processing pipeline. Use this to track progress and identify any issues with processing.","example":"READY"},"raw_text":{"type":["string","null"],"description":"The original, unmodified text content that was submitted for training. May be truncated for large entries.","example":"Our company was founded in 2020. We specialize in AI-powered customer service solutions. Our business hours are Monday to Friday, 9 AM to 5 PM Eastern Time."},"processed_text":{"type":["string","null"],"description":"The optimized version of the text after system processing. This is what gets converted to vectors for retrieval.","example":"Our company was founded in 2020. We specialize in AI-powered customer service solutions. Our business hours are Monday to Friday, 9 AM to 5 PM Eastern Time."},"created_at":{"type":"string","format":"date-time","description":"ISO 8601 timestamp when this knowledge base entry was first created.","example":"2025-04-15T08:11:00.093761+00:00"},"updated_at":{"type":"string","format":"date-time","description":"ISO 8601 timestamp when this knowledge base entry was last modified. Use this to track when processing completed.","example":"2025-04-15T08:15:05.299349+00:00"},"title":{"type":["string","null"],"description":"Optional title for this knowledge base entry. Helps identify the content in listings.","example":"Company Information"},"description":{"type":["string","null"],"description":"Optional description providing more details about this knowledge base entry.","example":"Basic company details including founding date, business focus, and operating hours."}},"required":["id","replica_uuid","type","filename","status","raw_text","processed_text","created_at","updated_at","title","description"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/training":{"get":{"tags":["Training"],"security":[{"OrganizationServiceToken":[]}],"summary":"List all knowledge base entries","description":"Returns a list of all knowledge base entries belonging to your organization. This endpoint allows you to view all your training data in one place, with optional filtering by status or type. You can use this to monitor the overall state of your knowledge base, check which entries are still processing, and identify any that might have encountered errors. The response includes detailed information about each entry including its content, status, and metadata.","x-beta":true,"parameters":[{"schema":{"type":"string","enum":["AWAITING_UPLOAD","SUPABASE_ONLY","PROCESSING","READY","SYNC_ERROR","ERR_FILE_PROCESSING","ERR_TEXT_PROCESSING","ERR_TEXT_TO_VECTOR","BLANK"],"description":"Filter knowledge base entries by their processing status. Use this to find entries in specific states like READY or those with errors.","example":"READY"},"required":false,"description":"Filter to show only knowledge base entries with a specific processing status (e.g., READY, PROCESSING, ERR_FILE_PROCESSING)","name":"status","in":"query"},{"schema":{"type":"string","enum":["file_upload","url","training_history","text"],"description":"Filter knowledge base entries by their content type. Use this to find specific types of training data like text or file uploads.","example":"file_upload"},"required":false,"description":"Filter to show only knowledge base entries of a specific type (e.g., text, file_upload, url, training_history)","name":"type","in":"query"},{"schema":{"type":"string","pattern":"^\\d+$","default":"1","description":"Page number for pagination. Use this to navigate through large result sets.","example":"1"},"required":false,"description":"The page number for paginated results (starts at 1). Use this to navigate through large result sets.","name":"page","in":"query"},{"schema":{"type":"string","pattern":"^\\d+$","default":"100","description":"Maximum number of entries to return per page (up to 100). Use this to control result set size.","example":"50"},"required":false,"description":"The maximum number of knowledge base entries to return per page (up to 100). Use this to control result set size.","name":"limit","in":"query"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"List of knowledge base entries returned successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates if the list operation was successful","example":true},"items":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer","description":"The unique identifier for this knowledge base entry. Use this ID in subsequent API calls to update or delete this entry.","example":12345},"replica_uuid":{"type":["string","null"],"format":"uuid","description":"The unique identifier of the replica that owns this knowledge base entry. This links the training data to a specific replica.","example":"03db5651-cb61-4bdf-9ef0-89561f7c9c53"},"type":{"type":"string","enum":["file_upload","url","training_history","text"],"description":"The type of knowledge base entry, indicating how the content was added and how it should be processed.","example":"file_upload"},"filename":{"type":["string","null"],"description":"For file_upload entries, the original filename that was uploaded. This helps identify the source of the content.","example":"company_handbook.pdf"},"url":{"type":"string","description":"For url entries, the original url","example":"http://example.com"},"status":{"type":"string","enum":["AWAITING_UPLOAD","SUPABASE_ONLY","PROCESSING","READY","SYNC_ERROR","ERR_FILE_PROCESSING","ERR_TEXT_PROCESSING","ERR_TEXT_TO_VECTOR","BLANK"],"description":"The current stage in the processing pipeline. Use this to track progress and identify any issues with processing.","example":"READY"},"raw_text":{"type":["string","null"],"description":"The original, unmodified text content that was submitted for training. May be truncated for large entries.","example":"Our company was founded in 2020. We specialize in AI-powered customer service solutions. Our business hours are Monday to Friday, 9 AM to 5 PM Eastern Time."},"processed_text":{"type":["string","null"],"description":"The optimized version of the text after system processing. This is what gets converted to vectors for retrieval.","example":"Our company was founded in 2020. We specialize in AI-powered customer service solutions. Our business hours are Monday to Friday, 9 AM to 5 PM Eastern Time."},"created_at":{"type":"string","format":"date-time","description":"ISO 8601 timestamp when this knowledge base entry was first created.","example":"2025-04-15T08:11:00.093761+00:00"},"updated_at":{"type":"string","format":"date-time","description":"ISO 8601 timestamp when this knowledge base entry was last modified. Use this to track when processing completed.","example":"2025-04-15T08:15:05.299349+00:00"},"title":{"type":["string","null"],"description":"Optional title for this knowledge base entry. Helps identify the content in listings.","example":"Company Information"},"description":{"type":["string","null"],"description":"Optional description providing more details about this knowledge base entry.","example":"Basic company details including founding date, business focus, and operating hours."}},"required":["id","replica_uuid","type","filename","status","raw_text","processed_text","created_at","updated_at","title","description"]},"description":"Array of knowledge base entries matching your query parameters","example":[{"id":12345,"replica_uuid":"03db5651-cb61-4bdf-9ef0-89561f7c9c53","type":"text","filename":null,"status":"READY","raw_text":"Our company was founded in 2020...","processed_text":"Our company was founded in 2020...","created_at":"2025-04-15T08:11:00.093761+00:00","updated_at":"2025-04-15T08:11:05.299349+00:00","title":"Company Information","description":"Basic company details and policies"}]}},"required":["success","items"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/training/files/upload":{"get":{"tags":["Training"],"security":[{"OrganizationServiceToken":[]}],"summary":"Generate a signed URL for file upload","description":"Creates a signed URL for uploading a file to the knowledge base. This is the first step in the file-based training process. The response includes both a signedURL where you can upload your file and a knowledgeBaseID for tracking. After receiving these, use a PUT request to the signedURL to upload your file (with Content-Type: application/octet-stream). The system will automatically extract text from your file, process it, and make it available for your replica to use. Supported file types include PDF, DOCX, and other text-based formats. Files up to 50MB are supported.","x-beta":true,"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","minLength":1,"description":"The name of the file you want to upload (e.g., document.pdf, report.docx). Files up to 50MB are supported.","example":"company_handbook.pdf"},"required":true,"description":"The name of the file you want to upload to the knowledge base. This helps identify the file in your knowledge base. Files up to 50MB are supported.","name":"filename","in":"query"}],"responses":{"200":{"description":"The generated signed URL","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates if the signed URL was generated successfully"},"signedURL":{"type":"string","description":"The temporary URL where you should upload your file using a PUT request with Content-Type: application/octet-stream","example":"https://storage.googleapis.com/replica_files/..."},"knowledgeBaseID":{"type":"number","description":"The unique identifier for the newly created knowledge base entry. Use this to track the processing status of your file.","example":12345}},"required":["success"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/training/files/webhook":{"post":{"tags":["Training","Internal"],"security":[{"OrganizationServiceToken":[]}],"summary":"Receive webhook notifications from the storage system","description":"Processes file upload notifications from the storage system and queues them for processing.","x-hidden":true,"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookRequest"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates if the webhook was processed successfully"},"message":{"type":"string","description":"Optional message with details about the webhook processing"}},"required":["success"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/knowledge-base":{"post":{"tags":["Knowledge base"],"security":[{"OrganizationServiceToken":[]},{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]}],"summary":"Create a knowledge base entry","description":"Creates a new knowledge base entry for a replica based on text, file, URL, or Youtube Videos. For YouTube playlists, the system will automatically create separate entries for each video in the playlist.","x-beta":true,"x-hidden":true,"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"url":{"type":"string","format":"uri","pattern":"https?:\\/\\/[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]+\\b([-a-zA-Z0-9()@:%_+.~#?&\\/=]*)","description":"Public URL to ingest into the knowledge-base.\nThe URL must be publicly accessible without authentication. Dynamic content (e.g. Single Page Applications) are partially supported. Only the rendered text on the web page is used for training, embedded media (image, video, audio) is not used. For training using video files, please provide YouTube links in one of the following formats: \nhttps://www.youtube.com/watch?v=VIDEO_ID\nhttps://www.youtube.com/shorts/SHORT_VIDEO_ID\nhttps://www.youtube.com/playlist?list=PLAYLIST_ID","examples":["https://example.com","https://www.youtube.com/watch?v=dQw4w9WgXcQ","https://www.youtube.com/playlist?list=PLIhvC56v63ILPDA2DQBv0IKzqsWTZxCkp"]},"autoRefresh":{"type":"boolean","default":false,"description":"Whether to allow automatic content updates from the URL, handled by the system."},"text":{"type":"string","minLength":1,"description":"The text content you want your replica to learn","example":"Our company was founded in 2020. We specialize in AI-powered customer service solutions."},"filename":{"type":"string","description":"The name of the file that you intend/will upload. Supported files types:\n\n- Microsoft Word: .doc, .docx, .rtf\n- Microsoft Excel: .xls, .xlsx\n- PDF files: .pdf, .pdfa\n- Data text files: .csv, .tsv, .json, .yml, .yaml\n- Text files: .txt, .md\n- Ebooks: .epub, .mobi, .ibooks\n- Images: .png, .jpg, .jpeg, .webp, .heic, .heif\n- Voice (audio): .wav, .mp3, .aiff, .aac, .flac, .ogg\n- Videos (max 90 min): .mp4, .mpeg, .mov, .avi, .flv, .webm, .wmv, .3gp, .ogg\n","example":"example.txt"}},"additionalProperties":false}}}},"responses":{"207":{"description":"The created knowledge base entry","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates if the knowledge base entry was created successfully","example":true},"results":{"type":"array","items":{"anyOf":[{"type":"object","properties":{"type":{"type":"string","enum":["file","text","website","youtube"],"description":"The type of knowledge base entry","example":"file"},"enqueued":{"type":"boolean","enum":[true],"description":"Indicates that the knowledge base entry creation has been enqueued for processing"},"knowledgeBaseID":{"type":"number","description":"The unique identifier for the newly created knowledge base entry.","example":12345},"signedURL":{"type":"string","description":"The temporary URL where you should upload your file using a PUT request","example":"https://xotqxvmmnunwfsaemqfy.supabase.co/storage/v1/object/upload/sign/replica_files/..."}},"required":["type","enqueued","knowledgeBaseID"]},{"type":"object","properties":{"type":{"type":"string","enum":["file","text","website","youtube"],"description":"The type of knowledge base entry","example":"file"},"enqueued":{"type":"boolean","enum":[false],"description":"Indicates that the knowledge base entry creation has not been enqueued due to an error"},"error":{"type":"string","description":"Error message if the knowledge base entry creation failed"}},"required":["type","enqueued","error"]}]},"description":"Array of results for each knowledge base entry created","example":[]}},"required":["success","results"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"409":{"description":"URL already exists in the knowledge base","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}},"get":{"tags":["Knowledge base"],"summary":"List all knowledge base entries","description":"Returns a list of all knowledge base entries belonging to your organization. This endpoint allows you to view all your training data in one place, with optional filtering by status or type. You can use this to monitor the overall state of your knowledge base, check which entries are still processing, and identify any that might have encountered errors. The response includes detailed information about each entry including its content, status, and metadata.","x-beta":true,"x-hidden":true,"parameters":[{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","enum":["NEW","FILE_UPLOADED","RAW_TEXT","PROCESSED_TEXT","VECTOR_CREATED","READY","UNPROCESSABLE"],"description":"Filter knowledge base entries by their processing status. Use this to find entries in specific states like NEW or READY.","example":"READY"},"required":false,"name":"status","in":"query"},{"schema":{"type":"string","enum":["file","text","website","youtube"],"description":"Filter knowledge base entries by their content type. Use this to find specific types of training data like text or file uploads.","example":"file"},"required":false,"name":"type","in":"query"},{"schema":{"type":"integer","exclusiveMinimum":0,"default":1,"description":"Page number for pagination. Use this to navigate through large result sets.","example":1},"required":false,"name":"page","in":"query"},{"schema":{"type":["integer","null"],"minimum":0,"maximum":100,"default":24,"description":"Maximum number of entries to return per page (up to 100). Use this to control result set size. A value of zero can be used to check the total number of items without returning any items.","example":24},"required":false,"name":"pageSize","in":"query"},{"schema":{"type":"string","enum":["createdAt"],"default":"createdAt","description":"Sorts by creation date."},"required":false,"description":"Sorts by creation date.","name":"sortBy","in":"query"},{"schema":{"type":"string","enum":["asc","desc"],"default":"desc","description":"The order of the sort.","example":"asc"},"required":false,"name":"sortOrder","in":"query"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"List of knowledge base entries returned successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates if the list operation was successful","example":true},"items":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer","description":"The unique identifier for this knowledge base entry.","example":12345},"replicaUUID":{"type":"string","format":"uuid","description":"The unique identifier of the replica associated to this knowledge base entry.","example":"03db5651-cb61-4bdf-9ef0-89561f7c9c53"},"type":{"type":"string","enum":["file","text","website","youtube"],"description":"The type of knowledge base entry, indicating how the content was added and how it should be processed."},"url":{"type":"string","description":"The URL provided during entry creation, if applicable.","example":"http://example.com"},"status":{"type":"string","enum":["NEW","FILE_UPLOADED","RAW_TEXT","PROCESSED_TEXT","VECTOR_CREATED","READY","UNPROCESSABLE"],"description":"The current stage in the processing pipeline. Use this to track progress and identify any issues with processing."},"createdAt":{"type":"string","format":"date-time","description":"The ISO 8601 timestamp indicating when this knowledge base entry was created.","example":"2025-04-15T08:11:00.093761+00:00"},"updatedAt":{"type":"string","format":"date-time","description":"The ISO 8601 timestamp indicating when this knowledge base entry was last updated. Useful for tracking the completion time of processing.","example":"2025-04-15T08:15:05.299349+00:00"},"title":{"type":"string","description":"Optional title for the knowledge base entry, to help identify the knowledge base entry in listings. This field is not used in processing or internal logic.","example":"Company Information"},"summary":{"type":"string","description":"A concise 1-2 sentence summary of rawText, generated by the system.","example":"Basic company details including founding date, business focus, and operating hours."},"website":{"type":"object","properties":{"url":{"type":"string","format":"uri","description":"URL of the website related to the knowledge base entry.","example":"https://example.com"},"html":{"type":"string","description":"HTML content of the knowledge base entry."},"links":{"type":"array","items":{"type":"string","format":"uri"},"description":"Links related to the knowledge base entry."},"title":{"type":"string","description":"Title of the website.","example":"Example Website Title"},"text":{"type":"string","description":"Text content of the website.","example":"This is the main text content extracted from the website."},"description":{"type":"string","description":"A brief description of the website content based on extracted html.","example":"This website provides information about our company and services."},"autoRefresh":{"type":"boolean","default":false,"description":"Whether to allow automatic content updates from the URL, handled by the system."},"screenshot":{"type":"string","description":"Screenshot in Base64 format of the knowledge base entry."}},"required":["url"],"additionalProperties":false,"description":"Website content related to the knowledge base entry","example":{"url":"https://example.com","html":"<html>...</html>","links":["https://example.com","https://another-example.com"],"title":"Example Website Title","description":"Example Website Description","text":"This is the main text content extracted from the website.","screenshot":"data:image/png;base64,..."}},"youtube":{"type":"object","properties":{"url":{"type":"string","format":"uri","description":"URL of the YouTube video related to the knowledge base entry","example":"https://www.youtube.com/watch?v=VIDEO_ID"},"title":{"type":"string","description":"Title of the YouTube video"},"description":{"type":"string","description":"Description of the YouTube video"},"thumbnailURL":{"type":"string","format":"uri","description":"URL of the YouTube video thumbnail","example":"https://i.ytimg.com/vi/VIDEO_ID/hqdefault.jpg"},"summary":{"type":"string","description":"A concise 1-2 sentence summary of rawText.","example":"Basic company details including founding date, business focus, and operating hours."},"transcription":{"type":"string","description":"Full transcript of the YouTube video.","example":"This is the complete transcript of the video content..."},"visualTranscription":{"type":"string","description":"Visual transcription of the YouTube video","example":"Visual elements and scenes described in text format"},"playlistID":{"type":"string","description":"ID of the YouTube playlist associated with this knowledge base entry","example":"PL1234567890"}},"required":["url"],"additionalProperties":false,"description":"YouTube content related to the knowledge base entry","example":{"url":"https://www.youtube.com/watch?v=VIDEO_ID","title":"Example YouTube Video Title","description":"This is a description of the YouTube video content.","thumbnailURL":"https://i.ytimg.com/vi/VIDEO_ID/hqdefault.jpg","summary":"A concise summary of the key points covered in the video.","transcription":"This is the complete transcript of the video content...","visualTranscription":"Visual elements and scenes described in text format"}},"file":{"type":"object","properties":{"name":{"type":"string","description":"Name of the file associated with the knowledge base entry","example":"company_handbook.pdf"},"size":{"type":["number","null"],"description":"Size of the file in bytes","example":204800},"mimeType":{"type":["string","null"],"description":"MIME type of the file","example":"application/pdf"},"screenshot":{"type":"string","description":"Screenshot in Base64 format of the knowledge base entry"}},"required":["name"],"additionalProperties":false,"description":"File content related to the knowledge base entry","example":{"name":"company_handbook.pdf","size":204800,"mimeType":"application/pdf","screenshot":"data:image/png;base64,..."}},"error":{"type":"object","properties":{"fingerprint":{"type":"string","description":"A unique identifier of the error, useful for reporting","example":"12345"},"message":{"type":"string","description":"Error message associated with this knowledge base entry","example":"Failed to process the entry due to invalid format."}},"additionalProperties":false,"description":"Error information related to the knowledge base entry","example":{"fingerprint":"12345","message":"Failed to process the entry due to invalid format."}}},"required":["id","type","status","createdAt","updatedAt"],"additionalProperties":false},"description":"Array of knowledge base entries matching your query parameters","example":[{"id":12345,"replicaUUID":"03db5651-cb61-4bdf-9ef0-89561f7c9c53","type":"text","status":"READY","createdAt":"2025-04-15T08:11:00.093761+00:00","updatedAt":"2025-04-15T08:11:05.299349+00:00","title":"Company Information","summary":"Basic company details and policies"}]},"total":{"type":"integer","description":"The total number of knowledge base entries.","example":100}},"required":["success","items","total"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/replicas/{replicaUUID}/knowledge-base/{knowledgeBaseID}":{"patch":{"tags":["Knowledge base"],"security":[{"OrganizationServiceToken":[]},{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]}],"summary":"Update knowledge base entry","description":"Updates a knowledge base entry with training content. This is the second step in the training process after creating an entry. You can provide \"rawText\" which is the content you want your replica to learn from (such as product information, company policies, or specialized knowledge). The system will automatically process this text and make it available for your replica to use when answering questions. The entry status will change to PROCESSING and then to READY once fully processed.","x-beta":true,"x-hidden":true,"parameters":[{"schema":{"$ref":"#/components/schemas/knowledgeBaseID_parameter"},"required":true,"name":"knowledgeBaseID","in":"path"},{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"rawText":{"type":"string","minLength":1,"description":"The initial text content you want your replica to learn. This is the information you provide that will be processed and optimized for the knowledge base.","example":"Our company was founded in 2020. We specialize in AI-powered customer service solutions."},"processedText":{"type":"string","minLength":1,"description":"Pre-processed text that is ready to be added to the knowledge base. This is typically used when you have already optimized the text format.","example":"Our company was founded in 2020. We specialize in AI-powered customer service solutions.","deprecated":true,"x-hidden":true},"generatedFacts":{"type":"array","items":{"type":"string"},"description":"Generated facts related to the knowledge base entry.","example":["The company was founded in 2020.","We specialize in AI-powered customer service solutions."]},"generatedChunks":{"type":"array","items":{"type":"object","properties":{"content":{"type":"string"},"chunkIndex":{"type":"integer"},"chunkTokens":{"type":"integer"},"chunkChars":{"type":"integer"}}},"description":"Segments of textual content that have been extracted from the original sources and split into smaller, manageable pieces.","example":[{"content":"First part of the document content.","chunkIndex":0,"chunkTokens":7,"chunkChars":35},{"content":"Second part of the document content.","chunkIndex":1,"chunkTokens":7,"chunkChars":36}]},"qdrantPoints":{"type":"array","items":{"type":"string"},"description":"Internal field.","example":[],"x-hidden":true},"vectorEntryID":{"type":"string","format":"uuid","description":"Internal field. The ID of the vector entry in the database. This indicates the information has been fully processed and is ready for retrieval.","example":"1337","x-hidden":true},"status":{"type":"string","enum":["NEW","FILE_UPLOADED","RAW_TEXT","PROCESSED_TEXT","VECTOR_CREATED","READY","UNPROCESSABLE"],"description":"The current stage in the processing pipeline.","x-hidden":true},"title":{"type":"string","description":"Optional title for this knowledge base entry. Helps identify the content in listings.","example":"Company Information"},"summary":{"type":"string","description":"A concise 1-2 sentence summary of rawText.","example":"Basic company details including founding date, business focus, and operating hours."},"website":{"type":"object","properties":{"url":{"type":"string","format":"uri","description":"URL of the website related to the knowledge base entry.","example":"https://example.com"},"html":{"type":"string","description":"HTML content of the knowledge base entry."},"links":{"type":"array","items":{"type":"string","format":"uri"},"description":"Links related to the knowledge base entry."},"title":{"type":"string","description":"Title of the website.","example":"Example Website Title"},"text":{"type":"string","description":"Text content of the website.","example":"This is the main text content extracted from the website."},"description":{"type":"string","description":"A brief description of the website content based on extracted html.","example":"This website provides information about our company and services."},"autoRefresh":{"type":"boolean","default":false,"description":"Whether to allow automatic content updates from the URL, handled by the system."},"screenshot":{"type":"string","description":"Screenshot in Base64 format of the knowledge base entry."}},"additionalProperties":false,"description":"Website content related to the knowledge base entry","example":{"url":"https://example.com","html":"<html>...</html>","links":["https://example.com","https://another-example.com"],"title":"Example Website Title","description":"Example Website Description","text":"This is the main text content extracted from the website.","screenshot":"data:image/png;base64,..."}},"youtube":{"type":"object","properties":{"url":{"type":"string","format":"uri","description":"URL of the YouTube video related to the knowledge base entry","example":"https://www.youtube.com/watch?v=VIDEO_ID"},"title":{"type":"string","description":"Title of the YouTube video"},"description":{"type":"string","description":"Description of the YouTube video"},"thumbnailURL":{"type":"string","format":"uri","description":"URL of the YouTube video thumbnail","example":"https://i.ytimg.com/vi/VIDEO_ID/hqdefault.jpg"},"summary":{"type":"string","description":"A concise 1-2 sentence summary of rawText.","example":"Basic company details including founding date, business focus, and operating hours."},"transcription":{"type":"string","description":"Full transcript of the YouTube video.","example":"This is the complete transcript of the video content..."},"visualTranscription":{"type":"string","description":"Visual transcription of the YouTube video","example":"Visual elements and scenes described in text format"}},"additionalProperties":false,"description":"YouTube content related to the knowledge base entry","example":{"url":"https://www.youtube.com/watch?v=VIDEO_ID","title":"Example YouTube Video Title","description":"This is a description of the YouTube video content.","thumbnailURL":"https://i.ytimg.com/vi/VIDEO_ID/hqdefault.jpg","summary":"A concise summary of the key points covered in the video.","transcription":"This is the complete transcript of the video content...","visualTranscription":"Visual elements and scenes described in text format"}},"file":{"type":"object","properties":{"name":{"type":"string","description":"Name of the file associated with the knowledge base entry","example":"company_handbook.pdf"},"size":{"type":["number","null"],"description":"Size of the file in bytes","example":204800},"mimeType":{"type":["string","null"],"description":"MIME type of the file","example":"application/pdf"},"screenshot":{"type":"string","description":"Screenshot in Base64 format of the knowledge base entry"}},"additionalProperties":false,"description":"File content related to the knowledge base entry","example":{"name":"company_handbook.pdf","size":204800,"mimeType":"application/pdf","screenshot":"data:image/png;base64,..."}},"error":{"type":"object","properties":{"fingerprint":{"type":"string","description":"A unique identifier of the error, useful for reporting","example":"12345"},"message":{"type":"string","description":"Error message associated with this knowledge base entry","example":"Failed to process the entry due to invalid format."}},"required":["fingerprint","message"],"additionalProperties":false,"description":"Error information related to the knowledge base entry","example":{"fingerprint":"12345","message":"Failed to process the entry due to invalid format."}}},"additionalProperties":false}}}},"responses":{"200":{"description":"Knowledge base entry updated successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates if the knowledge base update was successful"}},"required":["success"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}},"delete":{"tags":["Knowledge base"],"security":[{"OrganizationServiceToken":[]},{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]}],"summary":"Delete knowledge base entry by ID","description":"Permanently removes a specific knowledge base entry and its associated vector database entry. Use this endpoint when you need to remove outdated or incorrect training data from your replica's knowledge base. This operation cannot be undone, and the entry will no longer be available for retrieval during conversations with your replica. In most cases, the deletion is completed immediately. However, in some scenarios, part of the deletion process may be delayed. This means that while the request has been accepted and the deletion process has started, some associated data may remain temporarily available and will be removed within 24 hours.","x-beta":true,"x-hidden":true,"parameters":[{"schema":{"$ref":"#/components/schemas/knowledgeBaseID_parameter"},"required":true,"name":"knowledgeBaseID","in":"path"},{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"The knowledge base entry was deleted successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"}},"required":["success"]}}}},"202":{"description":"The deletion process has been initiated. Full removal of all associated data may take up to 24 hours to complete.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"message":{"type":"string","description":"The reason why the operation is accepted instead of returning an immediate success.","example":"The deletion process has been initiated. Full removal of all associated data may take up to 24 hours to complete."}},"required":["success","message"]}}}},"404":{"description":"Knowledge base entry not found.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}}}},"get":{"tags":["Knowledge base"],"security":[{"OrganizationServiceToken":[]},{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]}],"summary":"Get knowledge base entry by ID","description":"Retrieves detailed information about a specific knowledge base entry using its ID. This endpoint returns the complete entry data including its type, status, content, and metadata. You can use this to check the processing status of your training content, view the raw and processed text, and see when it was created and last updated. This is useful for monitoring the progress of your training data as it moves through the processing pipeline.","x-beta":true,"x-hidden":true,"parameters":[{"schema":{"$ref":"#/components/schemas/knowledgeBaseID_parameter"},"required":true,"name":"knowledgeBaseID","in":"path"},{"schema":{"$ref":"#/components/schemas/replicaUUID_parameter"},"required":true,"name":"replicaUUID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"The requested knowledge base entry.","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"The unique identifier for this knowledge base entry.","example":12345},"replicaUUID":{"type":"string","format":"uuid","description":"The unique identifier of the replica associated to this knowledge base entry.","example":"03db5651-cb61-4bdf-9ef0-89561f7c9c53"},"type":{"type":"string","enum":["file","text","website","youtube"],"description":"The type of knowledge base entry, indicating how the content was added and how it should be processed."},"url":{"type":"string","description":"The URL provided during entry creation, if applicable.","example":"http://example.com"},"status":{"type":"string","enum":["NEW","FILE_UPLOADED","RAW_TEXT","PROCESSED_TEXT","VECTOR_CREATED","READY","UNPROCESSABLE"],"description":"The current stage in the processing pipeline. Use this to track progress and identify any issues with processing."},"createdAt":{"type":"string","format":"date-time","description":"The ISO 8601 timestamp indicating when this knowledge base entry was created.","example":"2025-04-15T08:11:00.093761+00:00"},"updatedAt":{"type":"string","format":"date-time","description":"The ISO 8601 timestamp indicating when this knowledge base entry was last updated. Useful for tracking the completion time of processing.","example":"2025-04-15T08:15:05.299349+00:00"},"title":{"type":"string","description":"Optional title for the knowledge base entry, to help identify the knowledge base entry in listings. This field is not used in processing or internal logic.","example":"Company Information"},"summary":{"type":"string","description":"A concise 1-2 sentence summary of rawText, generated by the system.","example":"Basic company details including founding date, business focus, and operating hours."},"website":{"type":"object","properties":{"url":{"type":"string","format":"uri","description":"URL of the website related to the knowledge base entry.","example":"https://example.com"},"html":{"type":"string","description":"HTML content of the knowledge base entry."},"links":{"type":"array","items":{"type":"string","format":"uri"},"description":"Links related to the knowledge base entry."},"title":{"type":"string","description":"Title of the website.","example":"Example Website Title"},"text":{"type":"string","description":"Text content of the website.","example":"This is the main text content extracted from the website."},"description":{"type":"string","description":"A brief description of the website content based on extracted html.","example":"This website provides information about our company and services."},"autoRefresh":{"type":"boolean","default":false,"description":"Whether to allow automatic content updates from the URL, handled by the system."},"screenshot":{"type":"string","description":"Screenshot in Base64 format of the knowledge base entry."}},"required":["url"],"additionalProperties":false,"description":"Website content related to the knowledge base entry","example":{"url":"https://example.com","html":"<html>...</html>","links":["https://example.com","https://another-example.com"],"title":"Example Website Title","description":"Example Website Description","text":"This is the main text content extracted from the website.","screenshot":"data:image/png;base64,..."}},"youtube":{"type":"object","properties":{"url":{"type":"string","format":"uri","description":"URL of the YouTube video related to the knowledge base entry","example":"https://www.youtube.com/watch?v=VIDEO_ID"},"title":{"type":"string","description":"Title of the YouTube video"},"description":{"type":"string","description":"Description of the YouTube video"},"thumbnailURL":{"type":"string","format":"uri","description":"URL of the YouTube video thumbnail","example":"https://i.ytimg.com/vi/VIDEO_ID/hqdefault.jpg"},"summary":{"type":"string","description":"A concise 1-2 sentence summary of rawText.","example":"Basic company details including founding date, business focus, and operating hours."},"transcription":{"type":"string","description":"Full transcript of the YouTube video.","example":"This is the complete transcript of the video content..."},"visualTranscription":{"type":"string","description":"Visual transcription of the YouTube video","example":"Visual elements and scenes described in text format"},"playlistID":{"type":"string","description":"ID of the YouTube playlist associated with this knowledge base entry","example":"PL1234567890"}},"required":["url"],"additionalProperties":false,"description":"YouTube content related to the knowledge base entry","example":{"url":"https://www.youtube.com/watch?v=VIDEO_ID","title":"Example YouTube Video Title","description":"This is a description of the YouTube video content.","thumbnailURL":"https://i.ytimg.com/vi/VIDEO_ID/hqdefault.jpg","summary":"A concise summary of the key points covered in the video.","transcription":"This is the complete transcript of the video content...","visualTranscription":"Visual elements and scenes described in text format"}},"file":{"type":"object","properties":{"name":{"type":"string","description":"Name of the file associated with the knowledge base entry","example":"company_handbook.pdf"},"size":{"type":["number","null"],"description":"Size of the file in bytes","example":204800},"mimeType":{"type":["string","null"],"description":"MIME type of the file","example":"application/pdf"},"screenshot":{"type":"string","description":"Screenshot in Base64 format of the knowledge base entry"}},"required":["name"],"additionalProperties":false,"description":"File content related to the knowledge base entry","example":{"name":"company_handbook.pdf","size":204800,"mimeType":"application/pdf","screenshot":"data:image/png;base64,..."}},"error":{"type":"object","properties":{"fingerprint":{"type":"string","description":"A unique identifier of the error, useful for reporting","example":"12345"},"message":{"type":"string","description":"Error message associated with this knowledge base entry","example":"Failed to process the entry due to invalid format."}},"additionalProperties":false,"description":"Error information related to the knowledge base entry","example":{"fingerprint":"12345","message":"Failed to process the entry due to invalid format."}},"rawText":{"type":"string","description":"The original, unmodified text content that was submitted for training. May be truncated for large entries.","example":"Our company was founded in 2020. We specialize in AI-powered customer service solutions. Our business hours are Monday to Friday, 9 AM to 5 PM Eastern Time."},"processedText":{"type":"string","description":"The optimized version of the text after system processing. This is what gets converted to vectors for retrieval.","example":"Our company was founded in 2020. We specialize in AI-powered customer service solutions. Our business hours are Monday to Friday, 9 AM to 5 PM Eastern Time.","deprecated":true,"x-hidden":true},"generatedFacts":{"type":"array","items":{"type":"string"},"description":"Generated facts related to the knowledge base entry.","example":["The company was founded in 2020.","We specialize in AI-powered customer service solutions."]},"generatedChunks":{"type":"array","items":{"type":"object","properties":{"content":{"type":"string"},"chunkIndex":{"type":"integer"},"chunkTokens":{"type":"integer"},"chunkChars":{"type":"integer"}}},"description":"Segments of textual content that have been extracted from the original sources and split into smaller, manageable pieces.","example":[{"content":"First part of the document content.","chunkIndex":0,"chunkTokens":7,"chunkChars":35},{"content":"Second part of the document content.","chunkIndex":1,"chunkTokens":7,"chunkChars":36}]}},"required":["id","type","status","createdAt","updatedAt"],"additionalProperties":false}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/knowledge-base/{knowledgeBaseID}":{"patch":{"tags":["Knowledge base"],"security":[{"OrganizationServiceToken":[]},{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]}],"summary":"Update knowledge base entry","description":"Updates a knowledge base entry with training content. This is the second step in the training process after creating an entry. You can provide \"rawText\" which is the content you want your replica to learn from (such as product information, company policies, or specialized knowledge). The system will automatically process this text and make it available for your replica to use when answering questions. The entry status will change to PROCESSING and then to READY once fully processed.","x-beta":true,"x-hidden":true,"parameters":[{"schema":{"$ref":"#/components/schemas/knowledgeBaseID_parameter"},"required":true,"name":"knowledgeBaseID","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","properties":{"rawText":{"type":"string","minLength":1,"description":"The initial text content you want your replica to learn. This is the information you provide that will be processed and optimized for the knowledge base.","example":"Our company was founded in 2020. We specialize in AI-powered customer service solutions."},"processedText":{"type":"string","minLength":1,"description":"Pre-processed text that is ready to be added to the knowledge base. This is typically used when you have already optimized the text format.","example":"Our company was founded in 2020. We specialize in AI-powered customer service solutions.","deprecated":true,"x-hidden":true},"generatedFacts":{"type":"array","items":{"type":"string"},"description":"Generated facts related to the knowledge base entry.","example":["The company was founded in 2020.","We specialize in AI-powered customer service solutions."]},"generatedChunks":{"type":"array","items":{"type":"object","properties":{"content":{"type":"string"},"chunkIndex":{"type":"integer"},"chunkTokens":{"type":"integer"},"chunkChars":{"type":"integer"}}},"description":"Segments of textual content that have been extracted from the original sources and split into smaller, manageable pieces.","example":[{"content":"First part of the document content.","chunkIndex":0,"chunkTokens":7,"chunkChars":35},{"content":"Second part of the document content.","chunkIndex":1,"chunkTokens":7,"chunkChars":36}]},"qdrantPoints":{"type":"array","items":{"type":"string"},"description":"Internal field.","example":[],"x-hidden":true},"vectorEntryID":{"type":"string","format":"uuid","description":"Internal field. The ID of the vector entry in the database. This indicates the information has been fully processed and is ready for retrieval.","example":"1337","x-hidden":true},"status":{"type":"string","enum":["NEW","FILE_UPLOADED","RAW_TEXT","PROCESSED_TEXT","VECTOR_CREATED","READY","UNPROCESSABLE"],"description":"The current stage in the processing pipeline.","x-hidden":true},"title":{"type":"string","description":"Optional title for this knowledge base entry. Helps identify the content in listings.","example":"Company Information"},"summary":{"type":"string","description":"A concise 1-2 sentence summary of rawText.","example":"Basic company details including founding date, business focus, and operating hours."},"website":{"type":"object","properties":{"url":{"type":"string","format":"uri","description":"URL of the website related to the knowledge base entry.","example":"https://example.com"},"html":{"type":"string","description":"HTML content of the knowledge base entry."},"links":{"type":"array","items":{"type":"string","format":"uri"},"description":"Links related to the knowledge base entry."},"title":{"type":"string","description":"Title of the website.","example":"Example Website Title"},"text":{"type":"string","description":"Text content of the website.","example":"This is the main text content extracted from the website."},"description":{"type":"string","description":"A brief description of the website content based on extracted html.","example":"This website provides information about our company and services."},"autoRefresh":{"type":"boolean","default":false,"description":"Whether to allow automatic content updates from the URL, handled by the system."},"screenshot":{"type":"string","description":"Screenshot in Base64 format of the knowledge base entry."}},"additionalProperties":false,"description":"Website content related to the knowledge base entry","example":{"url":"https://example.com","html":"<html>...</html>","links":["https://example.com","https://another-example.com"],"title":"Example Website Title","description":"Example Website Description","text":"This is the main text content extracted from the website.","screenshot":"data:image/png;base64,..."}},"youtube":{"type":"object","properties":{"url":{"type":"string","format":"uri","description":"URL of the YouTube video related to the knowledge base entry","example":"https://www.youtube.com/watch?v=VIDEO_ID"},"title":{"type":"string","description":"Title of the YouTube video"},"description":{"type":"string","description":"Description of the YouTube video"},"thumbnailURL":{"type":"string","format":"uri","description":"URL of the YouTube video thumbnail","example":"https://i.ytimg.com/vi/VIDEO_ID/hqdefault.jpg"},"summary":{"type":"string","description":"A concise 1-2 sentence summary of rawText.","example":"Basic company details including founding date, business focus, and operating hours."},"transcription":{"type":"string","description":"Full transcript of the YouTube video.","example":"This is the complete transcript of the video content..."},"visualTranscription":{"type":"string","description":"Visual transcription of the YouTube video","example":"Visual elements and scenes described in text format"}},"additionalProperties":false,"description":"YouTube content related to the knowledge base entry","example":{"url":"https://www.youtube.com/watch?v=VIDEO_ID","title":"Example YouTube Video Title","description":"This is a description of the YouTube video content.","thumbnailURL":"https://i.ytimg.com/vi/VIDEO_ID/hqdefault.jpg","summary":"A concise summary of the key points covered in the video.","transcription":"This is the complete transcript of the video content...","visualTranscription":"Visual elements and scenes described in text format"}},"file":{"type":"object","properties":{"name":{"type":"string","description":"Name of the file associated with the knowledge base entry","example":"company_handbook.pdf"},"size":{"type":["number","null"],"description":"Size of the file in bytes","example":204800},"mimeType":{"type":["string","null"],"description":"MIME type of the file","example":"application/pdf"},"screenshot":{"type":"string","description":"Screenshot in Base64 format of the knowledge base entry"}},"additionalProperties":false,"description":"File content related to the knowledge base entry","example":{"name":"company_handbook.pdf","size":204800,"mimeType":"application/pdf","screenshot":"data:image/png;base64,..."}},"error":{"type":"object","properties":{"fingerprint":{"type":"string","description":"A unique identifier of the error, useful for reporting","example":"12345"},"message":{"type":"string","description":"Error message associated with this knowledge base entry","example":"Failed to process the entry due to invalid format."}},"required":["fingerprint","message"],"additionalProperties":false,"description":"Error information related to the knowledge base entry","example":{"fingerprint":"12345","message":"Failed to process the entry due to invalid format."}}},"additionalProperties":false}}}},"responses":{"200":{"description":"Knowledge base entry updated successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates if the knowledge base update was successful"}},"required":["success"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}},"delete":{"tags":["Knowledge base"],"security":[{"OrganizationServiceToken":[]},{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]}],"summary":"Delete knowledge base entry by ID","description":"Permanently removes a specific knowledge base entry and its associated vector database entry. Use this endpoint when you need to remove outdated or incorrect training data from your replica's knowledge base. This operation cannot be undone, and the entry will no longer be available for retrieval during conversations with your replica. In most cases, the deletion is completed immediately. However, in some scenarios, part of the deletion process may be delayed. This means that while the request has been accepted and the deletion process has started, some associated data may remain temporarily available and will be removed within 24 hours.","x-beta":true,"x-hidden":true,"parameters":[{"schema":{"$ref":"#/components/schemas/knowledgeBaseID_parameter"},"required":true,"name":"knowledgeBaseID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"The knowledge base entry was deleted successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"}},"required":["success"]}}}},"202":{"description":"The deletion process has been initiated. Full removal of all associated data may take up to 24 hours to complete.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"message":{"type":"string","description":"The reason why the operation is accepted instead of returning an immediate success.","example":"The deletion process has been initiated. Full removal of all associated data may take up to 24 hours to complete."}},"required":["success","message"]}}}},"404":{"description":"Knowledge base entry not found.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}}}},"get":{"tags":["Knowledge base"],"security":[{"OrganizationServiceToken":[]},{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]}],"summary":"Get knowledge base entry by ID","description":"Retrieves detailed information about a specific knowledge base entry using its ID. This endpoint returns the complete entry data including its type, status, content, and metadata. You can use this to check the processing status of your training content, view the raw and processed text, and see when it was created and last updated. This is useful for monitoring the progress of your training data as it moves through the processing pipeline.","x-beta":true,"x-hidden":true,"parameters":[{"schema":{"$ref":"#/components/schemas/knowledgeBaseID_parameter"},"required":true,"name":"knowledgeBaseID","in":"path"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"The requested knowledge base entry.","content":{"application/json":{"schema":{"type":"object","properties":{"id":{"type":"integer","description":"The unique identifier for this knowledge base entry.","example":12345},"replicaUUID":{"type":"string","format":"uuid","description":"The unique identifier of the replica associated to this knowledge base entry.","example":"03db5651-cb61-4bdf-9ef0-89561f7c9c53"},"type":{"type":"string","enum":["file","text","website","youtube"],"description":"The type of knowledge base entry, indicating how the content was added and how it should be processed."},"url":{"type":"string","description":"The URL provided during entry creation, if applicable.","example":"http://example.com"},"status":{"type":"string","enum":["NEW","FILE_UPLOADED","RAW_TEXT","PROCESSED_TEXT","VECTOR_CREATED","READY","UNPROCESSABLE"],"description":"The current stage in the processing pipeline. Use this to track progress and identify any issues with processing."},"createdAt":{"type":"string","format":"date-time","description":"The ISO 8601 timestamp indicating when this knowledge base entry was created.","example":"2025-04-15T08:11:00.093761+00:00"},"updatedAt":{"type":"string","format":"date-time","description":"The ISO 8601 timestamp indicating when this knowledge base entry was last updated. Useful for tracking the completion time of processing.","example":"2025-04-15T08:15:05.299349+00:00"},"title":{"type":"string","description":"Optional title for the knowledge base entry, to help identify the knowledge base entry in listings. This field is not used in processing or internal logic.","example":"Company Information"},"summary":{"type":"string","description":"A concise 1-2 sentence summary of rawText, generated by the system.","example":"Basic company details including founding date, business focus, and operating hours."},"website":{"type":"object","properties":{"url":{"type":"string","format":"uri","description":"URL of the website related to the knowledge base entry.","example":"https://example.com"},"html":{"type":"string","description":"HTML content of the knowledge base entry."},"links":{"type":"array","items":{"type":"string","format":"uri"},"description":"Links related to the knowledge base entry."},"title":{"type":"string","description":"Title of the website.","example":"Example Website Title"},"text":{"type":"string","description":"Text content of the website.","example":"This is the main text content extracted from the website."},"description":{"type":"string","description":"A brief description of the website content based on extracted html.","example":"This website provides information about our company and services."},"autoRefresh":{"type":"boolean","default":false,"description":"Whether to allow automatic content updates from the URL, handled by the system."},"screenshot":{"type":"string","description":"Screenshot in Base64 format of the knowledge base entry."}},"required":["url"],"additionalProperties":false,"description":"Website content related to the knowledge base entry","example":{"url":"https://example.com","html":"<html>...</html>","links":["https://example.com","https://another-example.com"],"title":"Example Website Title","description":"Example Website Description","text":"This is the main text content extracted from the website.","screenshot":"data:image/png;base64,..."}},"youtube":{"type":"object","properties":{"url":{"type":"string","format":"uri","description":"URL of the YouTube video related to the knowledge base entry","example":"https://www.youtube.com/watch?v=VIDEO_ID"},"title":{"type":"string","description":"Title of the YouTube video"},"description":{"type":"string","description":"Description of the YouTube video"},"thumbnailURL":{"type":"string","format":"uri","description":"URL of the YouTube video thumbnail","example":"https://i.ytimg.com/vi/VIDEO_ID/hqdefault.jpg"},"summary":{"type":"string","description":"A concise 1-2 sentence summary of rawText.","example":"Basic company details including founding date, business focus, and operating hours."},"transcription":{"type":"string","description":"Full transcript of the YouTube video.","example":"This is the complete transcript of the video content..."},"visualTranscription":{"type":"string","description":"Visual transcription of the YouTube video","example":"Visual elements and scenes described in text format"},"playlistID":{"type":"string","description":"ID of the YouTube playlist associated with this knowledge base entry","example":"PL1234567890"}},"required":["url"],"additionalProperties":false,"description":"YouTube content related to the knowledge base entry","example":{"url":"https://www.youtube.com/watch?v=VIDEO_ID","title":"Example YouTube Video Title","description":"This is a description of the YouTube video content.","thumbnailURL":"https://i.ytimg.com/vi/VIDEO_ID/hqdefault.jpg","summary":"A concise summary of the key points covered in the video.","transcription":"This is the complete transcript of the video content...","visualTranscription":"Visual elements and scenes described in text format"}},"file":{"type":"object","properties":{"name":{"type":"string","description":"Name of the file associated with the knowledge base entry","example":"company_handbook.pdf"},"size":{"type":["number","null"],"description":"Size of the file in bytes","example":204800},"mimeType":{"type":["string","null"],"description":"MIME type of the file","example":"application/pdf"},"screenshot":{"type":"string","description":"Screenshot in Base64 format of the knowledge base entry"}},"required":["name"],"additionalProperties":false,"description":"File content related to the knowledge base entry","example":{"name":"company_handbook.pdf","size":204800,"mimeType":"application/pdf","screenshot":"data:image/png;base64,..."}},"error":{"type":"object","properties":{"fingerprint":{"type":"string","description":"A unique identifier of the error, useful for reporting","example":"12345"},"message":{"type":"string","description":"Error message associated with this knowledge base entry","example":"Failed to process the entry due to invalid format."}},"additionalProperties":false,"description":"Error information related to the knowledge base entry","example":{"fingerprint":"12345","message":"Failed to process the entry due to invalid format."}},"rawText":{"type":"string","description":"The original, unmodified text content that was submitted for training. May be truncated for large entries.","example":"Our company was founded in 2020. We specialize in AI-powered customer service solutions. Our business hours are Monday to Friday, 9 AM to 5 PM Eastern Time."},"processedText":{"type":"string","description":"The optimized version of the text after system processing. This is what gets converted to vectors for retrieval.","example":"Our company was founded in 2020. We specialize in AI-powered customer service solutions. Our business hours are Monday to Friday, 9 AM to 5 PM Eastern Time.","deprecated":true,"x-hidden":true},"generatedFacts":{"type":"array","items":{"type":"string"},"description":"Generated facts related to the knowledge base entry.","example":["The company was founded in 2020.","We specialize in AI-powered customer service solutions."]},"generatedChunks":{"type":"array","items":{"type":"object","properties":{"content":{"type":"string"},"chunkIndex":{"type":"integer"},"chunkTokens":{"type":"integer"},"chunkChars":{"type":"integer"}}},"description":"Segments of textual content that have been extracted from the original sources and split into smaller, manageable pieces.","example":[{"content":"First part of the document content.","chunkIndex":0,"chunkTokens":7,"chunkChars":35},{"content":"Second part of the document content.","chunkIndex":1,"chunkTokens":7,"chunkChars":36}]}},"required":["id","type","status","createdAt","updatedAt"],"additionalProperties":false}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/knowledge-base":{"get":{"tags":["Knowledge base"],"security":[{"OrganizationServiceToken":[]},{"OrganizationServiceToken":[],"UserID":[],"UserIDType":[]}],"summary":"List all knowledge base entries","description":"Returns a list of all knowledge base entries belonging to your organization. This endpoint allows you to view all your training data in one place, with optional filtering by status or type. You can use this to monitor the overall state of your knowledge base, check which entries are still processing, and identify any that might have encountered errors. The response includes detailed information about each entry including its content, status, and metadata.","x-beta":true,"x-hidden":true,"parameters":[{"schema":{"type":"string","enum":["NEW","FILE_UPLOADED","RAW_TEXT","PROCESSED_TEXT","VECTOR_CREATED","READY","UNPROCESSABLE"],"description":"Filter knowledge base entries by their processing status. Use this to find entries in specific states like NEW or READY.","example":"READY"},"required":false,"name":"status","in":"query"},{"schema":{"type":"string","enum":["file","text","website","youtube"],"description":"Filter knowledge base entries by their content type. Use this to find specific types of training data like text or file uploads.","example":"file"},"required":false,"name":"type","in":"query"},{"schema":{"type":"integer","exclusiveMinimum":0,"default":1,"description":"Page number for pagination. Use this to navigate through large result sets.","example":1},"required":false,"name":"page","in":"query"},{"schema":{"type":["integer","null"],"minimum":0,"maximum":100,"default":24,"description":"Maximum number of entries to return per page (up to 100). Use this to control result set size. A value of zero can be used to check the total number of items without returning any items.","example":24},"required":false,"name":"pageSize","in":"query"},{"schema":{"type":"string","enum":["createdAt"],"default":"createdAt","description":"Sorts by creation date."},"required":false,"description":"Sorts by creation date.","name":"sortBy","in":"query"},{"schema":{"type":"string","enum":["asc","desc"],"default":"desc","description":"The order of the sort.","example":"asc"},"required":false,"name":"sortOrder","in":"query"},{"schema":{"type":"string","default":"2025-03-25","example":"2025-03-25"},"required":false,"name":"X-API-Version","in":"header"}],"responses":{"200":{"description":"List of knowledge base entries returned successfully.","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates if the list operation was successful","example":true},"items":{"type":"array","items":{"type":"object","properties":{"id":{"type":"integer","description":"The unique identifier for this knowledge base entry.","example":12345},"replicaUUID":{"type":"string","format":"uuid","description":"The unique identifier of the replica associated to this knowledge base entry.","example":"03db5651-cb61-4bdf-9ef0-89561f7c9c53"},"type":{"type":"string","enum":["file","text","website","youtube"],"description":"The type of knowledge base entry, indicating how the content was added and how it should be processed."},"url":{"type":"string","description":"The URL provided during entry creation, if applicable.","example":"http://example.com"},"status":{"type":"string","enum":["NEW","FILE_UPLOADED","RAW_TEXT","PROCESSED_TEXT","VECTOR_CREATED","READY","UNPROCESSABLE"],"description":"The current stage in the processing pipeline. Use this to track progress and identify any issues with processing."},"createdAt":{"type":"string","format":"date-time","description":"The ISO 8601 timestamp indicating when this knowledge base entry was created.","example":"2025-04-15T08:11:00.093761+00:00"},"updatedAt":{"type":"string","format":"date-time","description":"The ISO 8601 timestamp indicating when this knowledge base entry was last updated. Useful for tracking the completion time of processing.","example":"2025-04-15T08:15:05.299349+00:00"},"title":{"type":"string","description":"Optional title for the knowledge base entry, to help identify the knowledge base entry in listings. This field is not used in processing or internal logic.","example":"Company Information"},"summary":{"type":"string","description":"A concise 1-2 sentence summary of rawText, generated by the system.","example":"Basic company details including founding date, business focus, and operating hours."},"website":{"type":"object","properties":{"url":{"type":"string","format":"uri","description":"URL of the website related to the knowledge base entry.","example":"https://example.com"},"html":{"type":"string","description":"HTML content of the knowledge base entry."},"links":{"type":"array","items":{"type":"string","format":"uri"},"description":"Links related to the knowledge base entry."},"title":{"type":"string","description":"Title of the website.","example":"Example Website Title"},"text":{"type":"string","description":"Text content of the website.","example":"This is the main text content extracted from the website."},"description":{"type":"string","description":"A brief description of the website content based on extracted html.","example":"This website provides information about our company and services."},"autoRefresh":{"type":"boolean","default":false,"description":"Whether to allow automatic content updates from the URL, handled by the system."},"screenshot":{"type":"string","description":"Screenshot in Base64 format of the knowledge base entry."}},"required":["url"],"additionalProperties":false,"description":"Website content related to the knowledge base entry","example":{"url":"https://example.com","html":"<html>...</html>","links":["https://example.com","https://another-example.com"],"title":"Example Website Title","description":"Example Website Description","text":"This is the main text content extracted from the website.","screenshot":"data:image/png;base64,..."}},"youtube":{"type":"object","properties":{"url":{"type":"string","format":"uri","description":"URL of the YouTube video related to the knowledge base entry","example":"https://www.youtube.com/watch?v=VIDEO_ID"},"title":{"type":"string","description":"Title of the YouTube video"},"description":{"type":"string","description":"Description of the YouTube video"},"thumbnailURL":{"type":"string","format":"uri","description":"URL of the YouTube video thumbnail","example":"https://i.ytimg.com/vi/VIDEO_ID/hqdefault.jpg"},"summary":{"type":"string","description":"A concise 1-2 sentence summary of rawText.","example":"Basic company details including founding date, business focus, and operating hours."},"transcription":{"type":"string","description":"Full transcript of the YouTube video.","example":"This is the complete transcript of the video content..."},"visualTranscription":{"type":"string","description":"Visual transcription of the YouTube video","example":"Visual elements and scenes described in text format"},"playlistID":{"type":"string","description":"ID of the YouTube playlist associated with this knowledge base entry","example":"PL1234567890"}},"required":["url"],"additionalProperties":false,"description":"YouTube content related to the knowledge base entry","example":{"url":"https://www.youtube.com/watch?v=VIDEO_ID","title":"Example YouTube Video Title","description":"This is a description of the YouTube video content.","thumbnailURL":"https://i.ytimg.com/vi/VIDEO_ID/hqdefault.jpg","summary":"A concise summary of the key points covered in the video.","transcription":"This is the complete transcript of the video content...","visualTranscription":"Visual elements and scenes described in text format"}},"file":{"type":"object","properties":{"name":{"type":"string","description":"Name of the file associated with the knowledge base entry","example":"company_handbook.pdf"},"size":{"type":["number","null"],"description":"Size of the file in bytes","example":204800},"mimeType":{"type":["string","null"],"description":"MIME type of the file","example":"application/pdf"},"screenshot":{"type":"string","description":"Screenshot in Base64 format of the knowledge base entry"}},"required":["name"],"additionalProperties":false,"description":"File content related to the knowledge base entry","example":{"name":"company_handbook.pdf","size":204800,"mimeType":"application/pdf","screenshot":"data:image/png;base64,..."}},"error":{"type":"object","properties":{"fingerprint":{"type":"string","description":"A unique identifier of the error, useful for reporting","example":"12345"},"message":{"type":"string","description":"Error message associated with this knowledge base entry","example":"Failed to process the entry due to invalid format."}},"additionalProperties":false,"description":"Error information related to the knowledge base entry","example":{"fingerprint":"12345","message":"Failed to process the entry due to invalid format."}}},"required":["id","type","status","createdAt","updatedAt"],"additionalProperties":false},"description":"Array of knowledge base entries matching your query parameters","example":[{"id":12345,"replicaUUID":"03db5651-cb61-4bdf-9ef0-89561f7c9c53","type":"text","status":"READY","createdAt":"2025-04-15T08:11:00.093761+00:00","updatedAt":"2025-04-15T08:11:05.299349+00:00","title":"Company Information","summary":"Basic company details and policies"}]},"total":{"type":"integer","description":"The total number of knowledge base entries.","example":100}},"required":["success","items","total"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}},"/v1/webhooks/supabase/knowledge-base":{"post":{"tags":["Knowledge base","Internal"],"security":[{"OrganizationServiceToken":[]}],"summary":"Receive webhook notifications from the storage system","description":"Processes file upload notifications from the storage system and queues them for processing.","x-hidden":true,"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WebhookRequest"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates if the webhook was processed successfully"},"message":{"type":"string","description":"Optional message with details about the webhook processing"}},"required":["success"]}}}},"400":{"description":"Bad Request","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"401":{"description":"Unauthorized","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"404":{"description":"Not Found","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"415":{"description":"Unsupported Media Type","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"}},"required":["success","error","request_id"]}}}},"500":{"description":"Internal Server Error","content":{"application/json":{"schema":{"type":"object","properties":{"success":{"type":"boolean","description":"Indicates the status of the request"},"error":{"type":"string","description":"A text representation of the error"},"fingerprint":{"type":"string","description":"A unique identifier of the event, useful for reporting","example":"14fceadd84e74ec499afe9b0f7952d6b"},"request_id":{"type":"string","description":"A unique identifier of the request, useful for reporting","example":"xyz1::reg1:reg1::ab3c4-1234567890123-0123456789ab"},"inner_exception":{"type":"object","properties":{"name":{"type":"string"},"message":{"type":"string"},"cause":{"type":"string"},"stack":{"type":"string"}},"required":["name","message"],"description":"The inner exception","example":{"name":"Server overheated","message":"The server overheated due to an unexpected situation","cause":"Request too complicated","stack":"Error: Server overheated due to an unexpected situation\n    at Object.eval (eval at <anonymous>..."}}},"required":["success","error","request_id"]}}}}}}}},"webhooks":{}}